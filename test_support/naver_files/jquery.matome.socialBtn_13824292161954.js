/*!!
 * jQuery expanding textarea
 * 
 * https://github.com/ferama/jquery-expanding-textarea
 * 
 * Adapted for jQuery from dojo TextArea widget
 *
 * @author Marco Ferragina
 * @version 1.00
 */
(function($){$.fn.expandingTextArea=function(){return this.filter("textarea").each(function(){var textarea=this;
var $this=$(this);
$this.css({"overflow-x":"auto","overflow-y":"hidden","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",resize:"none"});
var _busyResizing=false;
var _needsHelpShrinking=$.browser.mozilla||$.browser.webkit||$.browser.msie;
var _setTimoutHandle;
var gcs;
if($.browser.webkit){gcs=function(node){var s;
if(node.nodeType==1){var dv=node.ownerDocument.defaultView;
s=dv.getComputedStyle(node,null);
if(!s&&node.style){node.style.display="";
s=dv.getComputedStyle(node,null);
}}return s||{};
};
}else{if($.browser.msie){gcs=function(node){return node.nodeType==1?node.currentStyle:{};
};
}else{gcs=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};
};
}}var px;
if(!$.browser.msie){px=function(element,value){return parseFloat(value)||0;
};
}else{px=function(element,avalue){if(!avalue){return 0;
}if(avalue=="medium"){return 4;
}if(avalue.slice&&avalue.slice(-2)=="px"){return parseFloat(avalue);
}with(element){var sLeft=style.left;
var rsLeft=runtimeStyle.left;
runtimeStyle.left=currentStyle.left;
try{style.left=avalue;
avalue=style.pixelLeft;
}catch(e){avalue=0;
}style.left=sLeft;
runtimeStyle.left=rsLeft;
}return avalue;
};
}function _getHeight(){var newH=textarea.scrollHeight;
if($.browser.msie){newH+=textarea.offsetHeight-textarea.clientHeight;
}else{if($.browser.webkit){newH+=getBorderExtents(textarea).h;
}else{if($.browser.mozilla){newH+=textarea.offsetHeight-textarea.clientHeight;
}else{newH+=getPadBorderExtents(textarea).h;
}}}return newH;
}function getPadExtents(n,computedStyle){var s=computedStyle||gcs(n),l=px(n,s.paddingLeft),t=px(n,s.paddingTop);
return{l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)};
}function getBorderExtents(n,computedStyle){var ne="none",s=computedStyle||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);
return{l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)};
}function getPadBorderExtents(n,computedStyle){var s=computedStyle||gcs(n),p=getPadExtents(n,s),b=getBorderExtents(n,s);
return{l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h};
}function _shrink(){_setTimoutHandle=null;
if(_needsHelpShrinking&&!_busyResizing){_busyResizing=true;
var empty=false;
if(textarea.value==""){textarea.value=" ";
empty=true;
}var scrollHeight=textarea.scrollHeight;
if(!scrollHeight){_estimateHeight();
}else{var oldPadding=$this.css("padding-bottom");
var newPadding=getPadExtents(textarea);
newPadding=newPadding.h-newPadding.t;
$this.css("padding-bottom",newPadding+1+"px");
var newH=_getHeight()-1+"px";
if($this.css("max-height")!=newH){$this.css("padding-bottom",newPadding+scrollHeight+"px");
textarea.scrollTop=0;
$this.css("max-height",_getHeight()-scrollHeight+"px");
}$this.css("padding-bottom",oldPadding);
}if(empty){textarea.value="";
}_busyResizing=false;
}}function _estimateHeight(){$this.css({"max-height":"",height:"auto"});
textarea.rows=(textarea.value.match(/\n/g)||[]).length+1;
}function _onInput(){if(_busyResizing){return;
}_busyResizing=true;
if(textarea.scrollHeight&&textarea.offsetHeight&&textarea.clientHeight){var newH=_getHeight()+"px";
if($this.css("height")!=newH){$this.css("height",newH);
$this.css("maxHeight",newH);
}if(_needsHelpShrinking){if(_setTimoutHandle){clearTimeout(_setTimoutHandle);
}_setTimoutHandle=setTimeout(_shrink,0);
}}else{_estimateHeight();
}_busyResizing=false;
}_setTimoutHandle=setTimeout(_onInput,0);
$this.unbind(".expandingTextarea").bind("keyup.expandingTextarea",_onInput).bind("keydown.expandingTextarea",_onInput).bind("change.expandingTextarea",_onInput).bind("scroll.expandingTextarea",_onInput).bind("resize.expandingTextarea",_onInput).bind("focus.expandingTextarea",_onInput).bind("blur.expandingTextarea",_onInput).bind("cut.expandingTextarea",_onInput).bind("paste.expandingTextarea",_onInput);
});
};
})(jQuery);
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);
}else{factory(jQuery);
}}(function($){var pluses=/\+/g;
function raw(s){return s;
}function decoded(s){return decodeURIComponent(s.replace(pluses," "));
}function converted(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");
}try{return config.json?JSON.parse(s):s;
}catch(er){}}var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);
if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();
t.setDate(t.getDate()+days);
}value=config.json?JSON.stringify(value):String(value);
return(document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""));
}var decode=config.raw?raw:decoded;
var cookies=document.cookie.split("; ");
var result=key?undefined:{};
for(var i=0,l=cookies.length;
i<l;
i++){var parts=cookies[i].split("=");
var name=decode(parts.shift());
var cookie=decode(parts.join("="));
if(key&&key===name){result=converted(cookie);
break;
}if(!key){result[name]=converted(cookie);
}}return result;
};
config.defaults={};
$.removeCookie=function(key,options){if($.cookie(key)!==undefined){$.cookie(key,"",$.extend({},options,{expires:-1}));
return true;
}return false;
};
}));
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 JÃ¶rn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");
}return;
}var validator=$.data(this[0],"validator");
if(validator){return validator;
}this.attr("novalidate","novalidate");
validator=new $.validator(options,this[0]);
$.data(this[0],"validator",validator);
if(validator.settings.onsubmit){this.validateDelegate(":submit","click",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target;
}if($(event.target).hasClass("cancel")){validator.cancelSubmit=true;
}if($(event.target).attr("formnovalidate")!==undefined){validator.cancelSubmit=true;
}});
this.submit(function(event){if(validator.settings.debug){event.preventDefault();
}function handle(){var hidden;
if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);
}validator.settings.submitHandler.call(validator,validator.currentForm,event);
if(validator.submitButton){hidden.remove();
}return false;
}return true;
}if(validator.cancelSubmit){validator.cancelSubmit=false;
return handle();
}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;
return false;
}return handle();
}else{validator.focusInvalid();
return false;
}});
}return validator;
},valid:function(){if($(this[0]).is("form")){return this.validate().form();
}else{var valid=true;
var validator=$(this[0].form).validate();
this.each(function(){valid=valid&&validator.element(this);
});
return valid;
}},removeAttrs:function(attributes){var result={},$element=this;
$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);
$element.removeAttr(value);
});
return result;
},rules:function(command,argument){var element=this[0];
if(command){var settings=$.data(element.form,"validator").settings;
var staticRules=settings.rules;
var existingRules=$.validator.staticRules(element);
switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));
delete existingRules.messages;
staticRules[element.name]=existingRules;
if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);
}break;
case"remove":if(!argument){delete staticRules[element.name];
return existingRules;
}var filtered={};
$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];
delete existingRules[method];
});
return filtered;
}}var data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);
if(data.required){var param=data.required;
delete data.required;
data=$.extend({required:param},data);
}return data;
}});
$.extend($.expr[":"],{blank:function(a){return !$.trim(""+$(a).val());
},filled:function(a){return !!$.trim(""+$(a).val());
},unchecked:function(a){return !$(a).prop("checked");
}});
$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);
this.currentForm=form;
this.init();
};
$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);
args.unshift(source);
return $.validator.format.apply(this,args);
};
}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);
}if(params.constructor!==Array){params=[params];
}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;
});
});
return source;
};
$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element,event){this.lastActive=element;
if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);
}this.addWrapper(this.errorsFor(element)).hide();
}},onfocusout:function(element,event){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);
}},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)===""){return;
}else{if(element.name in this.submitted||element===this.lastElement){this.element(element);
}}},onclick:function(element,event){if(element.name in this.submitted){this.element(element);
}else{if(element.parentNode.name in this.submitted){this.element(element.parentNode);
}}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass);
}else{$(element).addClass(errorClass).removeClass(validClass);
}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass);
}else{$(element).removeClass(errorClass).addClass(validClass);
}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);
},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);
this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);
this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);
this.submitted={};
this.valueCache={};
this.pendingRequest=0;
this.pending={};
this.invalid={};
this.reset();
var groups=(this.groups={});
$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);
}$.each(value,function(index,name){groups[name]=key;
});
});
var rules=this.settings.rules;
$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);
});
function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");
if(validator.settings[eventType]){validator.settings[eventType].call(validator,this[0],event);
}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);
if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);
}},form:function(){this.checkForm();
$.extend(this.submitted,this.errorMap);
this.invalid=$.extend({},this.errorMap);
if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);
}this.showErrors();
return this.valid();
},checkForm:function(){this.prepareForm();
for(var i=0,elements=(this.currentElements=this.elements());
elements[i];
i++){this.check(elements[i]);
}return this.valid();
},element:function(element){element=this.validationTargetFor(this.clean(element));
this.lastElement=element;
this.prepareElement(element);
this.currentElements=$(element);
var result=this.check(element)!==false;
if(result){delete this.invalid[element.name];
}else{this.invalid[element.name]=true;
}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);
}this.showErrors();
return result;
},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);
this.errorList=[];
for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});
}this.successList=$.grep(this.successList,function(element){return !(element.name in errors);
});
}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);
}else{this.defaultShowErrors();
}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();
}this.submitted={};
this.lastElement=null;
this.prepareForm();
this.hideErrors();
this.elements().removeClass(this.settings.errorClass).removeData("previousValue");
},numberOfInvalids:function(){return this.objectLength(this.invalid);
},objectLength:function(obj){var count=0;
for(var i in obj){count++;
}return count;
},hideErrors:function(){this.addWrapper(this.toHide).hide();
},valid:function(){return this.size()===0;
},size:function(){return this.errorList.length;
},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");
}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;
return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;
}).length===1&&lastActive;
},elements:function(){var validator=this,rulesCache={};
return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);
}if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;
}rulesCache[this.name]=true;
return true;
});
},clean:function(selector){return $(selector)[0];
},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");
return $(this.settings.errorElement+"."+errorClass,this.errorContext);
},reset:function(){this.successList=[];
this.errorList=[];
this.errorMap={};
this.toShow=$([]);
this.toHide=$([]);
this.currentElements=$([]);
},prepareForm:function(){this.reset();
this.toHide=this.errors().add(this.containers);
},prepareElement:function(element){this.reset();
this.toHide=this.errorsFor(element);
},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();
if(type==="radio"||type==="checkbox"){return $("input[name='"+$(element).attr("name")+"']:checked").val();
}if(typeof val==="string"){return val.replace(/\r/g,"");
}return val;
},check:function(element){element=this.validationTargetFor(this.clean(element));
var rules=$(element).rules();
var dependencyMismatch=false;
var val=this.elementValue(element);
var result;
for(var method in rules){var rule={method:method,parameters:rules[method]};
try{result=$.validator.methods[method].call(this,val,element,rule.parameters);
if(result==="dependency-mismatch"){dependencyMismatch=true;
continue;
}dependencyMismatch=false;
if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));
return;
}if(!result){this.formatAndAdd(element,rule);
return false;
}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);
}throw e;
}}if(dependencyMismatch){return;
}if(this.objectLength(rules)){this.successList.push(element);
}return true;
},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||(element.attributes&&$(element).attr("data-msg-"+method.toLowerCase()));
},customMessage:function(name,method){var m=this.settings.messages[name];
return m&&(m.constructor===String?m:m[method]);
},findDefined:function(){for(var i=0;
i<arguments.length;
i++){if(arguments[i]!==undefined){return arguments[i];
}}return undefined;
},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");
},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;
if(typeof message==="function"){message=message.call(this,rule.parameters,element);
}else{if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);
}}this.errorList.push({message:message,element:element});
this.errorMap[element.name]=message;
this.submitted[element.name]=message;
},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));
}return toToggle;
},defaultShowErrors:function(){var i,elements;
for(i=0;
this.errorList[i];
i++){var error=this.errorList[i];
if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);
}this.showLabel(error.element,error.message);
}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);
}if(this.settings.success){for(i=0;
this.successList[i];
i++){this.showLabel(this.successList[i]);
}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();
elements[i];
i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);
}}this.toHide=this.toHide.not(this.toShow);
this.hideErrors();
this.addWrapper(this.toShow).show();
},validElements:function(){return this.currentElements.not(this.invalidElements());
},invalidElements:function(){return $(this.errorList).map(function(){return this.element;
});
},showLabel:function(element,message){var label=this.errorsFor(element);
if(label.length){label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);
label.html(message);
}else{label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||"");
if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();
}if(!this.labelContainer.append(label).length){if(this.settings.errorPlacement){this.settings.errorPlacement(label,$(element));
}else{label.insertAfter(element);
}}}if(!message&&this.settings.success){label.text("");
if(typeof this.settings.success==="string"){label.addClass(this.settings.success);
}else{this.settings.success(label,element);
}}this.toShow=this.toShow.add(label);
},errorsFor:function(element){var name=this.idOrName(element);
return this.errors().filter(function(){return $(this).attr("for")===name;
});
},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);
},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0];
}return element;
},checkable:function(element){return(/radio|checkbox/i).test(element.type);
},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']");
},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;
case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;
}}return value.length;
},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;
},dependTypes:{"boolean":function(param,element){return param;
},string:function(param,element){return !!$(param,element.form).length;
},"function":function(param,element){return param(element);
}},optional:function(element){var val=this.elementValue(element);
return !$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";
},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;
this.pending[element.name]=true;
}},stopRequest:function(element,valid){this.pendingRequest--;
if(this.pendingRequest<0){this.pendingRequest=0;
}delete this.pending[element.name];
if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();
this.formSubmitted=false;
}else{if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);
this.formSubmitted=false;
}}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});
}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;
}else{$.extend(this.classRuleSettings,className);
}},classRules:function(element){var rules={};
var classes=$(element).attr("class");
if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);
}});
}return rules;
},attributeRules:function(element){var rules={};
var $element=$(element);
var type=$element[0].getAttribute("type");
for(var method in $.validator.methods){var value;
if(method==="required"){value=$element.get(0).getAttribute(method);
if(value===""){value=true;
}value=!!value;
}else{value=$element.attr(method);
}if(/min|max/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);
}if(value){rules[method]=value;
}else{if(type===method&&type!=="range"){rules[method]=true;
}}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;
}return rules;
},dataRules:function(element){var method,value,rules={},$element=$(element);
for(method in $.validator.methods){value=$element.data("rule-"+method.toLowerCase());
if(value!==undefined){rules[method]=value;
}}return rules;
},staticRules:function(element){var rules={};
var validator=$.data(element.form,"validator");
if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};
}return rules;
},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];
return;
}if(val.param||val.depends){var keepRule=true;
switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;
break;
case"function":keepRule=val.depends.call(element,element);
break;
}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;
}else{delete rules[prop];
}}});
$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;
});
$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this]);
}});
$.each(["rangelength","range"],function(){var parts;
if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];
}else{if(typeof rules[this]==="string"){parts=rules[this].split(/[\s,]+/);
rules[this]=[Number(parts[0]),Number(parts[1])];
}}}});
if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];
delete rules.min;
delete rules.max;
}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];
delete rules.minlength;
delete rules.maxlength;
}}return rules;
},normalizeRule:function(data){if(typeof data==="string"){var transformed={};
$.each(data.split(/\s/),function(){transformed[this]=true;
});
data=transformed;
}return data;
},addMethod:function(name,method,message){$.validator.methods[name]=method;
$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];
if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));
}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";
}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();
return val&&val.length>0;
}if(this.checkable(element)){return this.getLength(value,element)>0;
}return $.trim(value).length>0;
},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value);
},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);
},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());
},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value);
},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);
},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);
},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch";
}if(/[^0-9 \-]+/.test(value)){return false;
}var nCheck=0,nDigit=0,bEven=false;
value=value.replace(/\D/g,"");
for(var n=value.length-1;
n>=0;
n--){var cDigit=value.charAt(n);
nDigit=parseInt(cDigit,10);
if(bEven){if((nDigit*=2)>9){nDigit-=9;
}}nCheck+=nDigit;
bEven=!bEven;
}return(nCheck%10)===0;
},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);
return this.optional(element)||length>=param;
},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);
return this.optional(element)||length<=param;
},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);
return this.optional(element)||(length>=param[0]&&length<=param[1]);
},min:function(value,element,param){return this.optional(element)||value>=param;
},max:function(value,element,param){return this.optional(element)||value<=param;
},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);
},equalTo:function(value,element,param){var target=$(param);
if(this.settings.onfocusout){target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();
});
}return value===target.val();
},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch";
}var previous=this.previousValue(element);
if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};
}previous.originalMessage=this.settings.messages[element.name].remote;
this.settings.messages[element.name].remote=previous.message;
param=typeof param==="string"&&{url:param}||param;
if(previous.old===value){return previous.valid;
}previous.old=value;
var validator=this;
this.startRequest(element);
var data={};
data[element.name]=value;
$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;
var valid=response===true||response==="true";
if(valid){var submitted=validator.formSubmitted;
validator.prepareElement(element);
validator.formSubmitted=submitted;
validator.successList.push(element);
delete validator.invalid[element.name];
validator.showErrors();
}else{var errors={};
var message=response||validator.defaultMessage(element,"remote");
errors[element.name]=previous.message=$.isFunction(message)?message(value):message;
validator.invalid[element.name]=true;
validator.showErrors(errors);
}previous.valid=valid;
validator.stopRequest(element,valid);
}},param));
return"pending";
}}});
$.format=$.validator.format;
}(jQuery));
(function($){var pendingRequests={};
if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;
if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();
}pendingRequests[port]=xhr;
}});
}else{var ajax=$.ajax;
$.ajax=function(settings){var mode=("mode" in settings?settings:$.ajaxSettings).mode,port=("port" in settings?settings:$.ajaxSettings).port;
if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();
}pendingRequests[port]=ajax.apply(this,arguments);
return pendingRequests[port];
}return ajax.apply(this,arguments);
};
}}(jQuery));
(function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);
if(target.is(delegate)){return handler.apply(target,arguments);
}});
}});
}(jQuery));
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);
}else{factory(jQuery);
}}(function($){var d=[],doc=$(document),ie6=$.browser.msie&&parseInt($.browser.version)===6&&typeof window.XMLHttpRequest!=="object",ie7=$.browser.msie&&parseInt($.browser.version)===7,ieQuirks=null,wndw=$(window),w=[];
$.modal=function(data,options){return $.modal.impl.init(data,options);
};
$.modal.close=function(){$.modal.impl.close();
};
$.modal.focus=function(pos){$.modal.impl.focus(pos);
};
$.modal.setContainerDimensions=function(){$.modal.impl.setContainerDimensions();
};
$.modal.setPosition=function(){$.modal.impl.setPosition();
};
$.modal.update=function(height,width){$.modal.impl.update(height,width);
};
$.fn.modal=function(options){return $.modal.impl.init(this,options);
};
$.modal.defaults={appendTo:"body",focus:true,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1000,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:true,overlayClose:false,fixed:true,position:null,persist:false,modal:true,onOpen:null,onShow:null,onClose:null};
$.modal.impl={d:{},init:function(data,options){var s=this;
if(s.d.data){return false;
}ieQuirks=$.browser.msie&&!$.support.boxModel;
s.o=$.extend({},$.modal.defaults,options);
s.zIndex=s.o.zIndex;
s.occb=false;
if(typeof data==="object"){data=data instanceof $?data:$(data);
s.d.placeholder=false;
if(data.parent().parent().size()>0){data.before($("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"}));
s.d.placeholder=true;
s.display=data.css("display");
if(!s.o.persist){s.d.orig=data.clone(true);
}}}else{if(typeof data==="string"||typeof data==="number"){data=$("<div></div>").html(data);
}else{alert("SimpleModal Error: Unsupported data type: "+typeof data);
return s;
}}s.create(data);
data=null;
s.open();
if($.isFunction(s.o.onShow)){s.o.onShow.apply(s,[s.d]);
}return s;
},create:function(data){var s=this;
s.getDimensions();
if(s.o.modal&&ie6){s.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:w[0],width:w[1],zIndex:s.o.zIndex,top:0,left:0})).appendTo(s.o.appendTo);
}s.d.overlay=$("<div></div>").attr("id",s.o.overlayId).addClass("simplemodal-overlay").css($.extend(s.o.overlayCss,{display:"none",opacity:s.o.opacity/100,height:s.o.modal?d[0]:0,width:s.o.modal?d[1]:0,position:"fixed",left:0,top:0,zIndex:s.o.zIndex+1})).appendTo(s.o.appendTo);
s.d.container=$("<div></div>").attr("id",s.o.containerId).addClass("simplemodal-container").css($.extend({position:s.o.fixed?"fixed":"absolute"},s.o.containerCss,{display:"none",zIndex:s.o.zIndex+2})).append(s.o.close&&s.o.closeHTML?$(s.o.closeHTML).addClass(s.o.closeClass):"").appendTo(s.o.appendTo);
s.d.wrap=$("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(s.d.container);
s.d.data=data.attr("id",data.attr("id")||s.o.dataId).addClass("simplemodal-data").css($.extend(s.o.dataCss,{display:"none"})).appendTo("body");
data=null;
s.setContainerDimensions();
s.d.data.appendTo(s.d.wrap);
if(ie6||ieQuirks){s.fixIE();
}},bindEvents:function(){var s=this;
$("."+s.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault();
s.close();
});
if(s.o.modal&&s.o.close&&s.o.overlayClose){s.d.overlay.bind("click.simplemodal",function(e){e.preventDefault();
s.close();
});
}doc.bind("keydown.simplemodal",function(e){if(s.o.modal&&e.keyCode===9){s.watchTab(e);
}else{if((s.o.close&&s.o.escClose)&&e.keyCode===27){e.preventDefault();
s.close();
}}});
wndw.bind("resize.simplemodal orientationchange.simplemodal",function(){s.getDimensions();
s.o.autoResize?s.setContainerDimensions():s.o.autoPosition&&s.setPosition();
if(ie6||ieQuirks){s.fixIE();
}else{if(s.o.modal){s.d.iframe&&s.d.iframe.css({height:w[0],width:w[1]});
s.d.overlay.css({height:d[0],width:d[1]});
}}});
},unbindEvents:function(){$("."+this.o.closeClass).unbind("click.simplemodal");
doc.unbind("keydown.simplemodal");
wndw.unbind(".simplemodal");
this.d.overlay.unbind("click.simplemodal");
},fixIE:function(){var s=this,p=s.o.position;
$.each([s.d.iframe||null,!s.o.modal?null:s.d.overlay,s.d.container.css("position")==="fixed"?s.d.container:null],function(i,el){if(el){var bch="document.body.clientHeight",bcw="document.body.clientWidth",bsh="document.body.scrollHeight",bsl="document.body.scrollLeft",bst="document.body.scrollTop",bsw="document.body.scrollWidth",ch="document.documentElement.clientHeight",cw="document.documentElement.clientWidth",sl="document.documentElement.scrollLeft",st="document.documentElement.scrollTop",s=el[0].style;
s.position="absolute";
if(i<2){s.removeExpression("height");
s.removeExpression("width");
s.setExpression("height",""+bsh+" > "+bch+" ? "+bsh+" : "+bch+' + "px"');
s.setExpression("width",""+bsw+" > "+bcw+" ? "+bsw+" : "+bcw+' + "px"');
}else{var te,le;
if(p&&p.constructor===Array){var top=p[0]?typeof p[0]==="number"?p[0].toString():p[0].replace(/px/,""):el.css("top").replace(/px/,"");
te=top.indexOf("%")===-1?top+" + (t = "+st+" ? "+st+" : "+bst+') + "px"':parseInt(top.replace(/%/,""))+" * (("+ch+" || "+bch+") / 100) + (t = "+st+" ? "+st+" : "+bst+') + "px"';
if(p[1]){var left=typeof p[1]==="number"?p[1].toString():p[1].replace(/px/,"");
le=left.indexOf("%")===-1?left+" + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"':parseInt(left.replace(/%/,""))+" * (("+cw+" || "+bcw+") / 100) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"';
}}else{te="("+ch+" || "+bch+") / 2 - (this.offsetHeight / 2) + (t = "+st+" ? "+st+" : "+bst+') + "px"';
le="("+cw+" || "+bcw+") / 2 - (this.offsetWidth / 2) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"';
}s.removeExpression("top");
s.removeExpression("left");
s.setExpression("top",te);
s.setExpression("left",le);
}}});
},focus:function(pos){var s=this,p=pos&&$.inArray(pos,["first","last"])!==-1?pos:"first";
var input=$(":input:enabled:visible:"+p,s.d.wrap);
setTimeout(function(){input.length>0?input.focus():s.d.wrap.focus();
},10);
},getDimensions:function(){var s=this,h=typeof window.innerHeight==="undefined"?wndw.height():window.innerHeight;
d=[doc.height(),doc.width()];
w=[h,wndw.width()];
},getVal:function(v,d){return v?(typeof v==="number"?v:v==="auto"?0:v.indexOf("%")>0?((parseInt(v.replace(/%/,""))/100)*(d==="h"?w[0]:w[1])):parseInt(v.replace(/px/,""))):null;
},update:function(height,width){var s=this;
if(!s.d.data){return false;
}s.d.origHeight=s.getVal(height,"h");
s.d.origWidth=s.getVal(width,"w");
s.d.data.hide();
height&&s.d.container.css("height",height);
width&&s.d.container.css("width",width);
s.setContainerDimensions();
s.d.data.show();
s.o.focus&&s.focus();
s.unbindEvents();
s.bindEvents();
},setContainerDimensions:function(){var s=this,badIE=ie6||ie7;
var ch=s.d.origHeight?s.d.origHeight:$.browser.opera?s.d.container.height():s.getVal(badIE?s.d.container[0].currentStyle.height:s.d.container.css("height"),"h"),cw=s.d.origWidth?s.d.origWidth:$.browser.opera?s.d.container.width():s.getVal(badIE?s.d.container[0].currentStyle.width:s.d.container.css("width"),"w"),dh=s.d.data.outerHeight(true),dw=s.d.data.outerWidth(true);
s.d.origHeight=s.d.origHeight||ch;
s.d.origWidth=s.d.origWidth||cw;
var mxoh=s.o.maxHeight?s.getVal(s.o.maxHeight,"h"):null,mxow=s.o.maxWidth?s.getVal(s.o.maxWidth,"w"):null,mh=mxoh&&mxoh<w[0]?mxoh:w[0],mw=mxow&&mxow<w[1]?mxow:w[1];
var moh=s.o.minHeight?s.getVal(s.o.minHeight,"h"):"auto";
if(!ch){if(!dh){ch=moh;
}else{if(dh>mh){ch=mh;
}else{if(s.o.minHeight&&moh!=="auto"&&dh<moh){ch=moh;
}else{ch=dh;
}}}}else{ch=s.o.autoResize&&ch>mh?mh:ch<moh?moh:ch;
}var mow=s.o.minWidth?s.getVal(s.o.minWidth,"w"):"auto";
if(!cw){if(!dw){cw=mow;
}else{if(dw>mw){cw=mw;
}else{if(s.o.minWidth&&mow!=="auto"&&dw<mow){cw=mow;
}else{cw=dw;
}}}}else{cw=s.o.autoResize&&cw>mw?mw:cw<mow?mow:cw;
}s.d.container.css({height:ch,width:cw});
s.d.wrap.css({overflow:(dh>ch||dw>cw)?"auto":"visible"});
s.o.autoPosition&&s.setPosition();
},setPosition:function(){var s=this,top,left,hc=(w[0]/2)-(s.d.container.outerHeight(true)/2),vc=(w[1]/2)-(s.d.container.outerWidth(true)/2),st=s.d.container.css("position")!=="fixed"?wndw.scrollTop():0;
if(s.o.position&&Object.prototype.toString.call(s.o.position)==="[object Array]"){top=st+(s.o.position[0]||hc);
left=s.o.position[1]||vc;
}else{top=st+hc;
left=vc;
}s.d.container.css({left:left,top:top});
},watchTab:function(e){var s=this;
if($(e.target).parents(".simplemodal-container").length>0){s.inputs=$(":input:enabled:visible:first, :input:enabled:visible:last",s.d.data[0]);
if((!e.shiftKey&&e.target===s.inputs[s.inputs.length-1])||(e.shiftKey&&e.target===s.inputs[0])||s.inputs.length===0){e.preventDefault();
var pos=e.shiftKey?"last":"first";
s.focus(pos);
}}else{e.preventDefault();
s.focus();
}},open:function(){var s=this;
s.d.iframe&&s.d.iframe.show();
if($.isFunction(s.o.onOpen)){s.o.onOpen.apply(s,[s.d]);
}else{s.d.overlay.show();
s.d.container.show();
s.d.data.show();
}s.o.focus&&s.focus();
s.bindEvents();
},close:function(){var s=this;
if(!s.d.data){return false;
}s.unbindEvents();
if($.isFunction(s.o.onClose)&&!s.occb){s.occb=true;
s.o.onClose.apply(s,[s.d]);
}else{if(s.d.placeholder){var ph=$("#simplemodal-placeholder");
if(s.o.persist){ph.replaceWith(s.d.data.removeClass("simplemodal-data").css("display",s.display));
}else{s.d.data.hide().remove();
ph.replaceWith(s.d.orig);
}}else{s.d.data.hide().remove();
}s.d.container.hide().remove();
s.d.overlay.hide();
s.d.iframe&&s.d.iframe.hide().remove();
s.d.overlay.remove();
s.d={};
}}};
}));
(function(){var fCreate=$.modal.impl.create;
$.modal.impl.create=function(){var that=this;
fCreate.apply(this,arguments);
setTimeout(function(){that.d.container.njLayerSupport();
},0);
};
})();
(function($){var LAYER_CLASS="FnLayerSupportOverlay";
$.widget("ui.njLayerSupport",{_init:function(){if(!$.browser.msie){return;
}if(($("embed").length||$("object").length)&&!this.element.find("."+LAYER_CLASS).length){this._setIframe();
}},_setIframe:function(){var $iframe=$("<iframe></iframe>"),$el,sPos;
this._$iframe&&this._$iframe.remove();
$iframe.attr({frameborder:0,scrolling:"no"}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0,background:"#000",opacity:"-1000"}).addClass(LAYER_CLASS);
this.element.children().each(function(){$el=$(this);
sPos=$el.css("position");
if(sPos!=="absolute"){$el.css("position","relative").data("beforePosition",sPos);
}});
this.element.prepend($iframe);
this._$iframe=$iframe;
},remove:function(){var $el,sPos;
this._$iframe&&this._$iframe.remove();
this.element.children().each(function(){$el=$(this);
sPos=$el.data("beforePosition");
$el.css("position",sPos).data("beforePosition","");
});
}});
})(jQuery);


/* @release 1382429670 */