(function($){var NjPlaceholder,OPTIONS,jqueryVal,_isFirefox,_isIE,_isIE10,_isNative,_isOldPlh,_isOpera,_isWinSafari,_ua;
if($.fn.njPlaceholder){return;
}_ua=navigator.userAgent.toLowerCase();
_isIE=_ua.indexOf("msie")!==-1;
_isIE10=false;
_isFirefox=_ua.indexOf("firefox")!==-1;
_isOpera=_ua.indexOf("opera")!==-1;
_isWinSafari=navigator.appVersion.match(/windows.*\ version\/5.* safari\/5/i)?true:false;
_isNative=!_isIE&&!_isFirefox&&!_isOpera&&!_isWinSafari;
_isOldPlh=_isIE10;
OPTIONS={css:"ExPlaceholder",autoTrim:true};
NjPlaceholder=function(el,options){var $s,o;
this.options=$.extend({},OPTIONS,options);
this.$el=$(el);
o=this.options;
$s=null;
this.$el.removeClass(o.css);
if(this.$el.val().length===0){this._show();
}if(_isOldPlh){this._setOldPlaceholder();
}else{this._setNewPlaceholder();
}return this;
};
jqueryVal=$.fn.val;
$.fn.val=function(s){var res,_MyNjPlaceholder;
_MyNjPlaceholder=this.data("MyNjPlaceholder");
if(_MyNjPlaceholder){if(s!=null){_MyNjPlaceholder.setValue(s);
res=this;
}else{res=_MyNjPlaceholder.getValue();
}}else{res=jqueryVal.apply(this,arguments);
}return res;
};
NjPlaceholder.prototype={_setNewPlaceholder:function(){var o,_this=this;
o=this.options;
this.$el.bind("focus.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._caretTop();
}}).bind("keyup.njPlaceholder",function(){if(_this.getValue().length<1){_this._show();
return _this._caretTop();
}}).bind("keydown.njPlaceholder",function(e){var isPlaceholder,keycode,vLength,value;
isPlaceholder=_this.$el.hasClass(o.css);
value=_this.getValue();
vLength=e.keyCode===8||e.keyCode===46?value.length-1:value.length+1;
keycode=e.keyCode;
if(isPlaceholder&&(keycode===37||keycode===38||keycode===39||keycode===40||keycode===16||keycode===17||keycode===18)){return false;
}if(!isPlaceholder&&vLength<1){return _this.$el.addClass(o.css);
}else{if(isPlaceholder&&vLength>0){return _this._hide(value);
}}});
if(!_isNative){this.$el.bind("blur.njPlaceholder",function(){if(_this.getValue().length<1){return _this._show();
}}).bind("mouseup.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._caretTop();
}});
}return this;
},_setOldPlaceholder:function(){var o,_this=this;
o=this.options;
return this.$el.bind("focus.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._hide("");
}}).bind("blur.njPlaceholder",function(){if(!_this.$el.hasClass(o.css)&&_this.getValue().length===0){return _this._show();
}});
},_show:function(){var o,_phValue;
o=this.options;
this.$el.addClass(o.css);
_phValue=this._getPlaceholder();
if(o.explaceholder){$(o.explaceholder).addClass(o.css).text(_phValue);
}if(_isNative){return this;
}if(_phValue){this._val(_phValue);
}return this;
},_hide:function(value){var o;
o=this.options;
this.$el.removeClass(o.css);
if(o.explaceholder){$(o.explaceholder).removeClass(o.css).text(value);
}if(_isNative){return this;
}if(value!==void 0){this._val(value);
}return this;
},_getPlaceholder:function(){return this.$el.attr("placeholder")||this.$el.data("input_text")||null;
},_caretTop:function(){var Caret,_el,_this=this;
if(_isNative){return this;
}_el=this.$el[0];
if(_el.setSelectionRange){setTimeout(function(){var e;
try{return _el.setSelectionRange(0,0);
}catch(_error){e=_error;
}},1);
}else{if(_el.createTextRange){Caret=_el.createTextRange();
Caret.collapse();
Caret.moveEnd("character",0);
Caret.moveStart("character",0);
Caret.select();
}}return this;
},destroy:function(){this.$el.unbind("focus.njPlaceholder").unbind("blur.njPlaceholder").unbind("keydown.njPlaceholder").unbind("keyup.njPlaceholder").unbind("mouseup.njPlaceholder");
return this;
},_val:function(){var res;
res=jqueryVal.apply(this.$el,arguments);
return res;
},getValue:function(){var isPlaceholder,o,phValue,value;
o=this.options;
value=this._val();
phValue=this._getPlaceholder();
isPlaceholder=this.$el.hasClass(o.css);
value=phValue&&isPlaceholder?value.replace(phValue,""):this._val();
return value;
},setValue:function(s){this._val(s);
if(s.length===0){this._show();
}else{this._hide();
}return this;
},clearValue:function(){this._val("").blur();
this._show();
return this;
},changePlaceholder:function(text){if(this.$el[0].placeholder!=null){this.$el.attr("placeholder",text);
}else{this.$el.data("input_text",text);
}if(this.getValue().length===0){this._show();
}return this;
}};
$.extend($.fn,{njPlaceholder:function(options,attr1){var isTrim,value,_MyNjPlaceholder,_this=this;
_isIE10=$.fn.njPlaceholder.isIe10;
_isOldPlh=_isIE10;
if(options==="getValue"){_MyNjPlaceholder=this.eq(0).data("MyNjPlaceholder");
value=_MyNjPlaceholder.getValue();
isTrim=_MyNjPlaceholder.options.autoTrim;
if(isTrim){return fnMatome.trim(value,true);
}else{return value;
}}else{if(options==="setValue"||options==="clearValue"||options==="changePlaceholder"){attr1=attr1?attr1:"";
this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
return _MyNjPlaceholder[options](attr1);
});
return this;
}else{if(options==="destroy"){this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){_MyNjPlaceholder.destroy();
return _MyNjPlaceholder=null;
}});
return this;
}else{this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
_MyNjPlaceholder=new NjPlaceholder($s,options);
$s.data("MyNjPlaceholder",_MyNjPlaceholder);
});
return this;
}}}},njGetPlaceholderValue:function(){var isTrim,value,_MyNjPlaceholder;
_MyNjPlaceholder=this.eq(0).data("MyNjPlaceholder");
if(_MyNjPlaceholder){value=_MyNjPlaceholder.getValue();
isTrim=_MyNjPlaceholder.options.autoTrim;
if(isTrim){return fnMatome.trim(value,true);
}else{return value;
}}else{return this.eq(0).val();
}},njSetPlaceholderValue:function(s){this.each(function(){var $el,_MyNjPlaceholder;
$el=$(this);
_MyNjPlaceholder=$el.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.setValue(s);
}else{return $el.val(s);
}});
return this;
},njChangePlaceholder:function(phValue){var _this=this;
this.each(function(i,s){var $s,_MyNjPlaceholder;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.changePlaceholder(phValue);
}});
return this;
},njClearPlaceholder:function(){var _this=this;
this.each(function(i,s){var $s,_MyNjPlaceholder;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.clearValue();
}});
return this;
}});
eval("/*@cc_on\n@if(@_jscript_version == 10)\n	$.fn.njPlaceholder.isIe10 = true;\n@end\n@*/");
$.fn.njPlaceholder.isIe10=$.fn.njPlaceholder.isIe10===true?true:false;
})(jQuery);
(function($){nj.getPackage("errorImage",(function(){var errorImage=function(self,sType,fn){self.onerror=null;
fn=fn||$.noop;
sType=(typeof sType=="undefined"?"default":sType);
try{var oType=errorImage.oData[sType];
if(!oType){var sTypeData=sType.replace(/^([a-z]+)\d+/,"$1");
var nSize=parseInt(sType.replace(/^[a-z]+(\d+)/,"$1"));
if(sTypeData!=="default"&&nSize){sType=sTypeData+nSize+"x"+nSize;
}oType=$.extend({},errorImage.oData[sType]||errorImage.oData["default"]);
}$(self).attr({src:(typeof STATIC_SERVER=="undefined"?errorImage.oData.staticServer:STATIC_SERVER)+oType.src,width:oType.w,height:oType.h});
fn(self);
}catch(e){}};
errorImage.get=function(sType){var oData=errorImage.oData[errorImage.oData[sType]?sType:"default"];
return{src:(typeof STATIC_SERVER=="undefined"?errorImage.oData.staticServer:STATIC_SERVER)+oData.src,w:oData.w,h:oData.h};
};
errorImage.oData={staticServer:typeof STATIC_SERVER==="undefined"?"http://static.naver.jp":STATIC_SERVER,"default":{src:"/matome_ver4/img/common/no_img/default_120x120.png",w:120,h:120},image45x45:{src:"/matome_ver4/img/common/no_img/image_45x45.png",w:45,h:45},image60x60:{src:"/matome_ver4/img/common/no_img/image_60x60.png",w:60,h:60},image65x65:{src:"/matome_ver4/img/common/no_img/image_65x65.png",w:65,h:65},image95x95:{src:"/matome_ver4/img/common/no_img/image_95x95.png",w:95,h:95},image100x100:{src:"/matome_ver4/img/common/no_img/image_100x100.png",w:100,h:100},image170x130:{src:"/matome_ver4/img/common/no_img/image_170x130-2.png",w:170,h:130},feedImage110x65:{src:"/matome_ver4/img/common/no_img/feed_image_110x65.png",w:110,h:65},feedImage170x130:{src:"/matome_ver4/img/common/no_img/feed_image_170x130.png",w:170,h:130},image300x300:{src:"/matome_ver4/img/common/no_img/image_300x300.png",w:300,h:300},photo40x40:{src:"/matome_ver4/img/common/no_img/photo_40x40.png",w:40,h:40},photo60x60:{src:"/matome_ver4/img/common/no_img/photo_60x60.png",w:60,h:60},photo95x95:{src:"/matome_ver4/img/common/no_img/photo_95x95.png",w:95,h:95},photo120x90:{src:"/matome_ver4/img/common/no_img/photo_120x90.png",w:120,h:90},photo120x120:{src:"/matome_ver4/img/common/no_img/photo_120x120.png",w:120,h:120},photo150x150:{src:"/matome_ver4/img/common/no_img/photo_150x150.png",w:150,h:150},photo160x160:{src:"/matome_ver4/img/common/no_img/photo_160x160.png",w:160,h:160},photo300x220:{src:"/matome_ver4/img/common/no_img/photo_300x220.png",w:300,h:220},video120x90:{src:"/matome_ver4/img/common/no_img/video_120x90.png",w:120,h:90},video300x220:{src:"/matome_ver4/img/common/no_img/video_300x220.png",w:300,h:220},video480x360:{src:"/matome_ver4/img/common/no_img/video_480x360.png",w:480,h:360},user16x16:{src:"/matome_ver4/img/common/no_img/user_18x18.png",w:16,h:16},user18x18:{src:"/matome_ver4/img/common/no_img/user_18x18.png",w:18,h:18},user20x20:{src:"/matome_ver4/img/common/no_img/user_20x20.png",w:20,h:20},user30x30:{src:"/matome_ver4/img/common/no_img/user_40x40.png",w:30,h:30},user40x40:{src:"/matome_ver4/img/common/no_img/user_40x40.png",w:40,h:40},user45x45:{src:"/matome_ver4/img/common/no_img/user_45x45.png",w:45,h:45},user51x51:{src:"/matome_ver4/img/common/no_img/user_51x51.png",w:51,h:51},user55x55:{src:"/matome_ver4/img/common/no_img/user_55x55.png",w:55,h:55},user80x80:{src:"/matome_ver4/img/common/no_img/user_80x80.png",w:80,h:80},user120x120:{src:"/matome_ver4/img/common/no_img/user_120x120.png",w:120,h:120},twitter48x48:{src:"/matome_ver4/img/common/no_img/twitter_48x48.png?121114",w:48,h:48},favicon16x16:{src:"/matome_ver4/img/common/no_img/favicon_16x16.png",w:16,h:16},favoritePhoto300x300:{src:"/matome_ver4/img/common/no_img/image_300x300.png",w:300,h:300}};
var USER_IMAGE_SIZE_LIST=(function(){var a=[],r=/^user(\d+)$/;
$.each(errorImage.oData,function(s){if(r.test(s)){a.push(parseInt(s.replace(r,"$1")));
}});
return a;
})();
return errorImage;
})());
nj.getPackage("onloadCheck",function(elImg,width,height,resize){elImg.onload=null;
if(resize){resizeImage(elImg,width,height);
}});
nj.getPackage("onerrorCheck",function(elImg,thumbnailUrl){elImg.onerror=null;
elImg.removeAttribute("width");
elImg.removeAttribute("height");
if(thumbnailUrl==""){elImg.src="/img/Gone";
}else{elImg.src=thumbnailUrl;
}});
nj.getPackage("resizeImage",function(self,nMaxW,nMaxH,nSearchW,nSearchH){var oNewSize=calcuImageResize(parseInt(self.width)==0?nSearchW:parseInt(self.width),parseInt(self.height)==0?nSearchH:parseInt(self.height),nMaxW,nMaxH);
self.width=oNewSize.width;
self.height=oNewSize.height;
});
nj.getPackage("resizeAddZoom",function(self){self.parentNode.parentNode.style.zoom="1";
self.parentNode.parentNode.parentNode.style.zoom="1";
});
nj.getPackage("calcuImageResize",function(nW,nH,nMaxW,nMaxH){nW=nW||nMaxW;
nH=nH||nMaxH;
if(!nMaxH){nMaxH=nH||600;
}if(!nMaxW){nMaxW=nW||300;
}if(nW>=nMaxW&&nH>=nMaxH){var nWP=(100*nW)/nMaxW;
var nHP=(100*nH)/nMaxH;
if(nWP>nHP){nW=nMaxW;
nH=(100*nH)/nWP;
}else{nH=nMaxH;
nW=(100*nW)/nHP;
}}else{if(nW>=nMaxW){var nP=(100*nW)/nMaxW;
nH=(100*nH)/nP;
nW=nMaxW;
}else{if(nH>=nMaxH){var nP=(100*nH)/nMaxH;
nW=(100*nW)/nP;
nH=nMaxH;
}}}return{width:nW,height:nH};
});
nj.getPackage("changeProxyImage",function(sImageUrl,iSize){var exReg=/^http:\/\/.*.search.*.naver.jp/;
if(!sImageUrl||!sImageUrl.match(exReg)){return sImageUrl;
}var rSource={"300":"/r.300x600","160":"/r.160x140","120":"/r.120x120","100":"/r.100x100","95":"/c.95x95","80":"/c.80x80","66":"/c.65x65","60":"/c.60x60","51":"/c.51x51","50":"/c.50x50","18":"/c.18x18"};
var exPattern=/\/[a-z]{1}.[0-9]{1,3}x[0-9]{1,3}$/;
return sImageUrl.replace(exPattern,rSource[iSize])||sImageUrl;
});
nj.getPackage("filterUrl",function(sUrl){var aFilter=/^(http|https):\/\/([^\/]*\.)*(mainichi\.jp|ynawata\.asablo\.jp|housendo\.jp|www\.ne\.jp\/asahi\/korette\/hendenaikai|kinaishoku\.com|pby\.jp|tainan-guide\.com|sawadeechao\.net|plays\.jp\/bbs\/cnxbbs).*/;
return sUrl.match(aFilter);
});
nj.getPackage("curtail",function(sText,nSize){var oStr=nj.cutStr(sText,nSize,11,8,5,6);
if(oStr.str.length!=sText.length){return oStr.str+"...";
}return sText;
});
nj.getPackage("curtail2",function(sText,nSize){return nj.cutString(sText,nSize,"...");
});
nj.getPackage("onExternalLogin",function(sCookie,sRes){try{g_callback();
}catch(e){window.location.reload();
}});
nj.getPackage("nj.common.replaceLocationIfNullQuery",function(oElm){var frm=$(oElm);
var qt=$("#q",oElm);
var qu=$("#q_under",oElm);
var q=(qt.length>0)?qt:(qu.length>0)?qu:undefined;
if(q&&$.trim(q.val()).length<1){if(typeof getNullQueryReferencePage=="function"){location.href=getNullQueryReferencePage();
return false;
}}return true;
});
nj.getPackage("generateUniqueKey",function(self){var sTimeSeed=(new Date()).getTime().toString(16);
var sNumber=Math.random()+"";
var sRandomSeed=(sNumber.substring(2,sNumber.length)-0).toString(16);
return sTimeSeed+sRandomSeed;
});
nj.getPackage("fnMatome",(function(){return{be:function(target){return(typeof target=="undefined"?false:true);
},_exist:function(element){if(!this.be(element)||!this.be(element.value)){alert("not be element");
return false;
}return true;
},trim:function(sText,bFlag){if(sText){if(bFlag){var rtrim=/^[\f\n\r\t\v\u0020\u00a0\u2028\u2029\u3000]+|[\f\n\r\t\v\u0020\u00a0\u2028\u2029\u3000]+$/g;
return sText.replace(rtrim,"");
}else{return $.trim(sText);
}}else{return sText;
}},rtrim:function(sText){var rtrim=/[\f\n\r\t\v\u0020\u00a0\u2028\u2029\u3000]+$/g;
return sText.replace(rtrim,"");
},isBlank:function(sText){return this.trim(sText)==""?true:false;
},isNumeric:function(sText){sText=this.trim(sText);
var bIsNumber=true;
for(var i=0,len=sText.length;
i<len;
i++){var nCode=parseInt(sText.charCodeAt(i));
if(nCode<48||nCode>57){bIsNumber=false;
break;
}}return bIsNumber;
},validateBlank:function(element,oParam,bNotSelect){if(!this._exist(element)){return false;
}if(!this.isBlank(element.value)){return true;
}else{alert(oParam.msg);
if(!bNotSelect){element.focus();
}return false;
}},validateDefaultText:function(element,oParam,bNotSelect){if(!this._exist(element)){return false;
}if(this.trim(element.value)!=oParam.text){return true;
}else{alert(oParam.msg);
if(!bNotSelect){element.select();
}return false;
}},validateLength:function(element,oParam,bNotSelect){if(!this._exist(element)){return false;
}var sText=this.trim(element.value);
if(sText.length>=oParam.min&&sText.length<=oParam.max){return true;
}else{alert(oParam.msg);
if(!bNotSelect){element.select();
}return false;
}},validateNumeric:function(element,oParam,bNotSelect){if(!this._exist(element)){return false;
}if(this.isNumeric(element.value)){return true;
}else{alert(oParam.msg);
if(!bNotSelect){element.select();
}return false;
}},validate:function(element,oParam,bNotSelect){if(!this._exist(element)){return false;
}if(oParam.fn(element)){return true;
}else{alert(oParam.msg);
if(!bNotSelect){element.focus();
}return false;
}},clearText:function(element,oParams){if(this.trim(element.value)==oParams.text){element.value="";
}},addComma:function(nNum,nPositionOfPoint){var sNum=""+nNum;
nPositionOfPoint=nPositionOfPoint||3;
var sPre="",sPost="",nPos=-1;
nPos=sNum.indexOf(".");
if(nPos==-1){sPre=sNum;
}else{sPre=sNum.substr(0,nPos);
sPost=sNum.substr(nPos+1);
}var aStr=sPre.split("");
if(aStr.length<=nPositionOfPoint){return sPre+(sPost==""?"":"."+sPost);
}else{var aNewStr=[];
for(var i=aStr.length-1,j=1;
i>=0;
i--,j++){aNewStr.unshift(aStr[i]);
if(j%nPositionOfPoint==0&&i!=0){aNewStr.unshift(",");
}}return aNewStr.join("")+"."+sPost;
}},htmlEncode:function(str){return str.replace(/&lt;/ig,"<").replace(/&gt;/ig,">").replace(/&quot;/ig,'"').replace(/&amp;/ig,"&");
},validateURL:function(sURL){return/^(http|https):\/\/((\w|-)+(?:[\.:](\w|-))+)(?:\/|)?([^"\?]*?)(?:\?([^\?"]*?))?$/i.test(sURL);
},validateElementURL:function(el,oParam,bNotSelect){if(!fnMatome.validateURL(el.value)){alert(oParam.msg);
if(!bNotSelect){el.select();
}return false;
}return true;
},checkImageExtension:function(el,oParam,bNotSelect){if(!el.value.match(/\.(jpg|jpeg|gif|png)$/i)){alert(oParam.msg);
if(!bNotSelect){el.select();
}return false;
}return true;
}};
})("fnMatome"));
})(jQuery);
nj=window.nj||{};
nj.getPackage=function($packageName,$object,$keepPrevious){var parts=$packageName.split(".");
var part=window;
for(var i=0,length=parts.length,lastIndex=parts.length-1;
i<length;
i++){part=(part[parts[i]]===undefined)?(part[parts[i]]=(i==lastIndex&&$object)?$object:{}):((i==lastIndex&&$object&&!$keepPrevious)?(part[parts[i]]=$object):part[parts[i]]);
}return part;
};
nj.getPackage("nj.getBaseUrl",function(){return location.protocol+"//"+location.hostname+(location.port?(":"+location.port):"");
});
nj.getPackage("nj.getCombinedUrl",function($urlArray){if(arguments.length==1){if(typeof $urlArray=="string"){return $urlArray;
}else{if(!$urlArray.length){return"";
}}for(var i=0,urlLength=$urlArray.length,combinedUrl="";
i<urlLength;
i++){combinedUrl+=i?(($urlArray[i]!==undefined)?"/"+String($urlArray[i]):""):String($urlArray[i]);
}}else{for(var i=0,urlLength=arguments.length,combinedUrl="";
i<urlLength;
i++){combinedUrl+=i?((arguments[i]!==undefined)?"/"+String(arguments[i]):""):String(arguments[i]);
}}return combinedUrl;
});
nj.getPackage("nj.alert",function($oObject,$nItemsPerPage){if(typeof($oObject)!=="object"){var nStr="";
for(var i=0,len=arguments.length;
i<len;
i++){nStr+=arguments[i]+" ";
}alert(nStr);
return;
}var nItemsPerPage=((typeof($nItemsPerPage)=="number")&&$nItemsPerPage)||20;
var nPage=0;
var nCnt=0;
var aStrs=[""];
for(var s in $oObject){nCnt++;
aStrs[nPage]+="- "+s+": "+$oObject[s]+"\n";
if(nCnt>=nItemsPerPage){nCnt=0;
nPage++;
aStrs.push("");
}}for(var i=0,length=aStrs.length;
i<length;
i++){alert(aStrs[i]);
}});
nj.getPackage("nj.stringByteCount",function(str,lineBreak){var r=0;
str=(lineBreak!==undefined&&lineBreak===true)?str.replace(/\n/g,""):str;
for(var i=0;
i<str.length;
i++){var c=str.charCodeAt(i);
r+=((c>=0&&c<129)||(c==63728)||(c>=65377&&c<65440)||(c>=63729&&c<63732))?1:2;
}return r;
});
nj.getPackage("nj.cutStringByte",function($sString,$nSize,$sSuffix,lineBreak){if($sString===undefined||$sString.length===0){return"";
}var r=0,l=$nSize-nj.stringByteCount($sSuffix),sl=$sString.length,cl,s;
if((sl*2)<l){return $sString;
}for(var i=0;
i<sl;
i++){var c=$sString.charCodeAt(i);
r+=((c>=0&&c<129)||(c==63728)||(c>=65377&&c<65440)||(c>=63729&&c<63732))?1:2;
if(lineBreak!==undefined&&lineBreak===true&&c===10){r-=1;
}if(i===(sl-1)){s=$sString;
break;
}else{if(r>=$nSize){s=$sString.substr(0,cl)+$sSuffix;
break;
}else{if(r>=l){cl=(r===l)?i+1:i;
}}}}return s;
});
nj.getPackage("nj.cutString",function($sString,$nSize,$sSuffix,lineBreak){$nSize+=(lineBreak!==undefined&&lineBreak===true)?($sString.split(/\n/).length)-1:0;
return(!Boolean(Number($nSize))||($sString=String($sString||"")).length<=$nSize)?String($sString||""):$sString.split("",Math.max($nSize-String($sSuffix=(($sSuffix===undefined)?"...":$sSuffix)).length,0)).join("")+$sSuffix;
});
nj.getPackage("nj.cutStr",function(str,myCut){var jpSize,engUpperSize,engLowSize,others,regTag;
if(typeof(arguments[2])=="object"){var oOptions=arguments[2];
jpSize=oOptions.jp;
engUpperSize=oOptions.upper;
engLowSize=oOptions.lower;
others=oOptions.others;
regTag=oOptions.regTag||null;
}else{jpSize=arguments[2];
engUpperSize=arguments[3];
engLowSize=arguments[4];
others=arguments[5];
}var reArr=[];
if(regTag){var reg=new RegExp("<"+regTag+">|</"+regTag+">","ig");
reArr=str.replace(reg,"{0}").split("{0}");
}else{reArr=[str];
}var cnt=0;
var length=0;
var sHankaku="ｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜｦﾝｧｨｩｪｫｬｭｮｯﾞﾟｰ､｡｢｣";
var plainText="";
var ret="";
for(var i=0,l=reArr.length;
i<l;
i++){var strPart=reArr[i];
var strPartCut="";
for(var j=0,m=strPart.length;
j<m;
j++){length=j;
var code=strPart.charAt(j).charCodeAt(0);
if(sHankaku.indexOf(strPart.charAt(j))>=0){cnt+=others;
}else{if(code>=256){cnt+=jpSize;
}else{if(code>=65&&code<=90){cnt+=engUpperSize;
}else{if(code>=97&&code<=122){cnt+=engLowSize;
}else{cnt+=others;
}}}}if(cnt>=myCut){break;
}}strPartCut=strPart.substr(0,length+1);
if(regTag&&(i+1)%2==0){ret+="<"+regTag+">"+strPartCut+"</"+regTag+">";
}else{ret+=strPartCut;
}if(cnt>=myCut){cnt++;
break;
}}return{str:ret,size:Math.floor(cnt)};
});
nj.getPackage("nj.replaceStr",function(sTemplate,oData){var reg=(arguments.length==2)?/\${([A-Za-z0-9_]+)}/g:arguments[2];
return sTemplate.replace(reg,function(m,p){return(oData[p]!==undefined)?oData[p]:"";
});
});
nj.getPackage("nj.escapeHTML",(function(){var ENTITIES={'"':"quot","<":"lt",">":"gt","'":"#39","…":"hellip","©":"copy"},R_AND=/&/g,R_PATTERN=/[<>"'…©]/g;
return function($sStr){var s=$sStr.replace(R_AND,"&amp;");
s=s.replace(R_PATTERN,function(m0){return ENTITIES[m0]?"&"+ENTITIES[m0]+";":m0;
});
return s;
};
})());
nj.getPackage("nj.unescapeHTML",(function(){var ENTITIES={quot:'"',lt:"<",gt:">","#39":"'",hellip:"…",copy:"©"},R_AND=/&amp;/g,R_PATTERN=/&([a-z]+|#[0-9]+);/g;
return function($sStr){var s=$sStr.replace(R_PATTERN,function(m0,m1){return ENTITIES[m1]?ENTITIES[m1]:m0;
});
s=s.replace(R_AND,"&");
return s;
};
})());
nj.getPackage("nj.getScaledSize",function($oTargetSize,$oLimitSize,$bFitToLimitSize){var nWidthRatio=Math.max(0,Number($oLimitSize.width)||0)/Math.max(0,Number($oTargetSize.width)||0);
var nHeightRatio=Math.max(0,Number($oLimitSize.height)||0)/Math.max(0,Number($oTargetSize.height)||0);
var nRatio=(nWidthRatio&&nHeightRatio&&Math.min(nWidthRatio,nHeightRatio))||Math.max(nWidthRatio,nHeightRatio);
nRatio=($bFitToLimitSize?nRatio:Math.min(nRatio,1))||1;
return{width:parseInt($oTargetSize.width*nRatio,10),height:parseInt($oTargetSize.height*nRatio,10)};
});
nj.getPackage("nj.getCenteredPosition",function($oTargetSize,$oLimitSize){return{top:parseInt(($oTargetSize.height&&($oTargetSize.height<$oLimitSize.height))?($oLimitSize.height-$oTargetSize.height)/2:0),left:parseInt(($oTargetSize.width&&($oTargetSize.width<$oLimitSize.width))?($oLimitSize.width-$oTargetSize.width)/2:0)};
});
nj.getPackage("nj.scrollTo",function(elTarget,nMargin){var welTarget=$(elTarget);
nMargin=nMargin||0;
window.scrollTo(0,welTarget.offset().top+nMargin);
});
nj.getPackage("nj.zeroFill",function(n,nDigit){var a=[];
nDigit=nDigit||0;
for(var i=0;
i<nDigit;
i++){a.push(0);
}return(a.join("")+n).slice(-nDigit);
});
nj.getPackage("nj.withComma",function(n){var s,aComma=[],aDec,aMinus;
aDec=(n+"").split(".");
s=aDec[0];
aMinus=s.split("-");
s=aMinus.length>1?aMinus[1]:aMinus[0];
for(var i=s.length;
i>=0;
i--){aComma.unshift(s.charAt(i));
if(aComma.length!==0&&aComma.length%4===0){aComma.unshift(",");
}}if(aComma[0]===","){aComma.shift();
}s=aComma.join("");
s+=(aDec.length>1?"."+aDec[1]:"");
if(aMinus.length>1){s="-"+s;
}return s;
});
nj.getPackage("nj.nl2br",function(s,bxhtml){return s.replace(/\r?\n/mg,bxhtml?"<br />":"<br>");
});
(function(){var ONE_MINUTE=1000*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,THREE_DAY=ONE_DAY*3;
nj.getPackage("nj.getReadableDate",function(n,format){var nDiff=(+new Date)+$.njDate.getJSTOffset()-n;
format=$.extend({minute:"分前",hour:"時間前",day:"日前",more:"yyyy.mm.dd"},format);
if(nDiff<ONE_MINUTE){return 1+format.minute;
}else{if(nDiff<ONE_HOUR){return Math.floor(nDiff/ONE_MINUTE)+format.minute;
}else{if(nDiff<ONE_DAY){return Math.floor(nDiff/ONE_HOUR)+format.hour;
}else{if(nDiff<THREE_DAY){return Math.floor(nDiff/ONE_DAY)+format.day;
}else{return $.njDate(format.more,n);
}}}}});
})();
(function(){var REG_NAME=/^[^\.]/,REG_EXT=/\.(.+)$/,REG_FILE=/^(.+)\.(.+)$/;
nj.getPackage("nj.file",{getInfo:function(s){return{name:this.getFileName(s),extension:this.getExtension(s)};
},getExtension:function(s){s+="";
return REG_NAME.test(s)?s.replace(REG_FILE,"$2"):"";
},getFileName:function(s){s+="";
return REG_EXT.test(s)?s.replace(REG_FILE,"$1"):"";
},omitFileName:function(sName,nLength){var o,nExtLen,nNameLen;
if(nj.stringByteCount(sName)<=nLength){return sName;
}o=this.getInfo(sName);
nExtLen=nj.stringByteCount(o.extension);
if(nExtLen===0){return nj.cutStringByte(sName,nLength,"…");
}if(nExtLen>nLength-".".length-nj.stringByteCount("…")){return nj.cutStringByte(sName,nLength,"…");
}nLength-=nExtLen;
return nj.cutStringByte(o.name+".",nLength,"…")+o.extension;
}});
})();
nj.getPackage("nj.keyCode",{ENTER:13,ALT:16,CTRL:17,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40});
(function($){var CONST={SIDE_SIZE:2,ARROUND_SIZE:2,MAX_REST_SIZE:1,TOTAL:11};
$.widget("ui.njPageNavi",{options:{item:110,itemPerPage:10,page:1,paginateClass:"MdPagination04",paginateBreakClass:"mdPagination04Break",onPaginateComplete:function(){},onPaginateError:function(){},onClickEvent:function(){}},currentPage:1,endPage:1,_create:function(){var self=this,doc=this.element[0],o=this.options;
o.item=parseInt(o.item);
o.itemPerPage=parseInt(o.itemPerPage);
var endNavi=Math.ceil(o.item/o.itemPerPage);
this.setPage(o.page,endNavi);
$(doc).delegate("a","click.njPageNavi",$.proxy(function(e){e.preventDefault();
this._trigger("onClickEvent",null,$(e.target).html());
var _endPage=Math.ceil(o.item/o.itemPerPage);
this.setPage($(e.target).html(),_endPage);
},this));
},getEndPage:function(){var self=this,o=this.options;
return Math.ceil(o.item/o.itemPerPage);
},setTotalItem:function(item){var self=this,o=this.options;
o.item=item;
return true;
},setCurrentPage:function(current){this.currentPage=current;
return true;
},getCurrentPage:function(){return this.currentPage;
},redraw:function(iItem,iTarget){o=this.options;
o.item=iItem;
var endNavi=Math.ceil(iItem/o.itemPerPage);
this.setPage((iTarget)?iTarget:this.currentPage,endNavi);
},setPage:function(currentPage,endPage){var self=this,doc=this.element[0],o=this.options,cpage=parseInt(currentPage),epage=parseInt(endPage);
this.currentPage=cpage;
this.endPage=epage;
var pdiv="",ssize=parseInt(CONST.SIDE_SIZE),asize=parseInt(CONST.ARROUND_SIZE),rsize=parseInt(CONST.MAX_REST_SIZE),total=parseInt(CONST.TOTAL);
var mssize=ssize+asize+rsize;
for(var i=1;
i<=epage;
i++){if(i==(asize+1)&&epage>(mssize+ssize+1)&&cpage>(mssize+1)&&epage>total){pdiv+='<span class="'+o.paginateBreakClass+'">...</span>';
i=(epage-mssize>cpage-asize)?cpage-asize:epage-mssize-1;
}if(i==cpage){pdiv+="<strong>"+i+"</strong>";
}else{pdiv+='<a href="#">'+i+"</a>";
}if((cpage>epage-mssize)&&i<(epage-mssize-asize)&&epage>total){pdiv+='<span class="'+o.paginateBreakClass+'">...</span>';
i=(cpage-asize>epage-mssize)?epage-mssize:cpage-asize-1;
}if(i>(mssize-1)&&i>=(cpage+asize)&&epage>mssize&&i<epage-asize-1&&epage>total){pdiv+='<span class="'+o.paginateBreakClass+'">...</span>';
i=epage-asize;
}}try{this._trigger("onPaginateComplete");
$(doc).html(pdiv);
}catch(e){this._trigger("onPaginateError");
}}});
})(jQuery);
(function($){var removeHyperLink=function(sStr){return sStr.replace(/<.*?>/g,"");
};
var setCommentEditor=function(_text){return'<div id="_edit_comment_form" class="MdCommentForm02"><p id="_edit_comment_form_text" class="mdCommentForm02Input"><textarea class="mdCommentForm02InputTxt" placeholder="追加するコメントを入力">'+removeHyperLink(_text)+'</textarea></p><p class="mdCommentForm02Btn"><span class="MdBtn01Post02"><input type="button" value="書き込む" id="_update_commnet" class="mdBtn01Post02Btn"></span><span class="MdBtn01Cancel03"><a href="#" id="_cancel_comment" class="mdBtn01Cancel03Btn">キャンセル</a></span></p></div>';
};
var br2n=function(text){return text.replace(/<(br \/|br|br\/|BR \/|BR|BR\/)>/g,"\n");
};
var checkStringLength=function(string,maxlength,errorMsg){var _l=string.length;
if(_l==0){alert(errorMsg.zero);
return false;
}else{if(_l>maxlength){alert(errorMsg.over);
return false;
}else{return true;
}}};
var checkSendMethod=function(_method,_confirmText){if(_method=="delete"){return;
}else{return true;
}};
var checkSend=function(string,maxlength,errorMsg,_method,_confirmText){if(_method=="delete"){return window.confirm(_confirmText);
}else{return checkStringLength(string,maxlength,errorMsg);
}};
var deleteComment=function(self,_obj){$("#"+self.options.args["comment.commentId"]).remove();
};
var updateComment=function(self,_obj){var _c=_obj.content[0];
var _ecf=$("#_edit_comment_form");
_ecf.next().html(addHyperLink(_c.comment));
$(".mdCommentItem01EditDelBtn").show();
_ecf.next().show();
$("#_edit_comment_form").remove();
};
var refreshCommentList=function(self,totalItem,commentListClass,page){var o=self.options;
var cl=$("ul."+commentListClass);
var args={"comment.typeCode":o.args["comment.typeCode"],page:page||1,lastUpdated:new Date().getTime()};
cl.mtmCommentSet("option","typeCode",o.args["comment.typeCode"]);
cl.mtmCommentSet("setArgs",args);
cl.mtmCommentSet("setScrollDiff",o.scrollDiff);
cl.mtmCommentSet("getComment");
$("div.MdPagination04").njPageNavi("redraw",totalItem,page||1);
};
var addComment=function(self,_obj,mtmC){var _c=_obj.content[0],o=self.options;
var resHtml="<li id="+_c.id+'><div id="_nj_comment_add_'+_c.id+'" class="MdCommentItem01 MdCF"><div class="mdCommentItem01Thumb"><a href="'+self.options.userPageServer+"/"+_c.userNick+'" class="UserThumb"><img src="'+_c.profile+'" width="51" height="51" alt="" onerror="errorImage(this, \'user51x51\')"></a><!-- /.mdCommentItem01Thumb --></div><div class="mdCommentItem01Txt"><p class="mdCommentItem01Option"><a href="http://alpha.naver.jp/'+_c.userNick+'" class="mdCommentItem01UserName">'+_c.userNick+'</a>さん<span class="MdSeparator01P04">|</span><span class="mdCommentItem01Date">'+_c.updated+'</span><span class="mdCommentItem01EditDelBtn"><span class="MdBtn01Edit01"><a href="#" class="mdBtn01Edit01Btn">修正</a></span><span class="MdSeparator01P02">|</span><span class="MdBtn01Del01"><a href="#" class="mdBtn01Del01Btn">削除</a></span></span></p><p class="mdCommentItem01Comment">'+addHyperLink(_c.comment)+"</p><!-- /.mdCommentItem01Txt --></div><!-- /.MdCommentItem01 --></div></li>";
$("ul.MdCommentList01").prepend(resHtml);
$("#_nj_comment_add_"+_c.id).mtmComment({mode:"list",encryptId:self.options.args["comment.encryptId"],typeCode:o.typeCode});
};
$.widget("matome.mtmComment",{options:{mode:"insert",encryptId:undefined,typeCode:undefined,callback:{},gnb:".MdHeadUtil01",userPageServer:nj.getCombinedUrl(nj.getBaseUrl(),"mymatome"),commentListClass:"MdCommentList01"},_addButton:undefined,_textarea:undefined,_editCommentObject:undefined,_create:function(){var self=this,o=this.options;
for(var i=0;
i<this.element.length;
i++){var doc=this.element[i];
var _textarea={};
if($("textarea",doc).length>0){_textarea=$("textarea",doc);
}if(_textarea.length){if($.browser.msie){_textarea.css("min-height",_textarea.height());
_textarea.one("focus",function(){_textarea.css("min-height","");
});
_textarea.expandingTextArea();
}else{_textarea.expandingTextArea();
}}switch(o.mode){case"insert":var _button=$(":button",doc).mtmCommentSend({mode:"insert",textarea:_textarea,callback:o.callback,args:{"comment.encryptId":o.encryptId,"comment.typeCode":o.typeCode,m:"ajaxInsert"}});
break;
case"update":var self=this;
var _commentId=$(doc).parent().parent().parent().attr("id");
var _button=$("#_update_commnet").mtmCommentSend({mode:"update",textarea:_textarea,callback:o.callback,args:{"comment.commentId":_commentId,"comment.typeCode":o.typeCode,"comment.encryptId":o.encryptId,m:"ajaxUpdate"}});
$("#_cancel_comment").bind("click.mtmComment",$.proxy(function(e){e.preventDefault();
this.cancelEditComment();
},this));
break;
case"list":$("a.mdBtn01Edit01Btn",doc).live("click.mtmComment",function(e){e.preventDefault();
if($("#_edit_comment_form").length==0){self.editComment($(e.target));
}else{alert("編集中のコメントがあるため、コメントの修正はできません。");
}});
var _commentId=$(doc).parent().attr("id"),_encryptId=o.encryptId,_typeCode=o.typeCode;
var _button=$("a.mdBtn01Del01Btn",doc).mtmCommentSend({mode:"delete",callback:o.callback,args:{"comment.commentId":_commentId,"comment.encryptId":_encryptId,"comment.typeCode":_typeCode,m:"ajaxDelete"}});
break;
default:break;
}}},destroy:function(){},editComment:function(el){var self=this,oArea=el.parent().parent().parent(),_text=$(".mdCommentItem01Comment",self.element).html();
var _comment_element=oArea.next();
_comment_element.before(setCommentEditor(br2n(_text)));
$(".mdCommentForm02InputTxt").njPlaceholder();
_comment_element.hide();
el.parent().parent().hide();
$("#_edit_comment_form").mtmComment({mode:"update"});
},cancelEditComment:function(){var self=$(this.element[0]);
self.next().show();
self.prev().children(".mdCommentItem01EditDelBtn").show();
$("#_edit_comment_form").remove();
},deleteComment:function(el){}});
$.widget("matome.mtmCommentSend",$.matome.mtmComment,{options:{mode:"insert",url:"/comment",maxLength:"2000",method:"POST",callback:{},confirmText:"本当に削除しますか?\n一度削除すると元に戻すことはできません。",errorMsg:{over:"追加するコメントは、2000文字以内で入力してください。",zero:"コメントが入力されていません。",edit:"編集中のコメントがあるため、コメントはできません。",del:"編集中のコメントがあるため、コメントの削除はできません。"},textarea:undefined,args:{},commentListClass:"MdCommentList01"},_create:function(){var self=this,_element=$(self.element[0]),_countElement=$(".mdMTMComment01Counter"),o=this.options;
_element.bind("click.mtmCommnentSend",function(e){e.preventDefault();
self.sendComment(e);
});
},sendComment:function(e){var self=this,_element=$(self.element[0]),_countElement=$(".mdMTMComment01Counter"),o=this.options;
if($("#_edit_comment_form").length>0&&o.mode=="insert"){alert(o.errorMsg.edit);
e.preventDefault();
return;
}else{if($("#_edit_comment_form").length>0&&o.mode=="delete"){alert(o.errorMsg.del);
e.preventDefault();
return;
}}if($.cookie("NJID_AUT")!=null){_element.unbind("click.mtmCommnentSend");
if(e){e.preventDefault();
}if(self.options.textarea){self.options.args["comment.content"]=self.options.textarea.njGetPlaceholderValue();
if(!self.options.args["comment.content"]&&self.options.mode!="delete"){alert(self.options.errorMsg.zero);
_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
return;
}}else{self.options.args["comment.content"]=undefined;
}if(checkSend(self.options.args["comment.content"],self.options.maxLength,self.options.errorMsg,self.options.mode,self.options.confirmText)){$.ajax({url:self.options.url,data:self.options.args,type:"POST",dataType:"json",success:$.proxy(function(res){var _res=(res.data)?res.data:res;
if(_res.result=="true"){self.setResponse(self,_res);
_countElement.html(_res.total);
if(self.options.textarea){self.options.textarea.njSetPlaceholderValue("");
self.options.textarea.triggerHandler("blur.njPlaceholder");
self.options.textarea.trigger("blur.expandingTextarea");
}}else{self._error(_res);
}if(typeof self.options.callback=="function"){self.options.callback();
}},this),error:function(res){alert("一時的に利用できません。");
},complete:function(){_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
}});
}else{_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
}}else{var loginOptions={loginDomain:g_loginDomain,loginApi:g_loginApi,proxyUrl:g_proxyUrl,rsaKeysApi:g_rsaKeysApi,success:function(res){$(self.options.gnb).html(G_HEADER_LOGON_TEMPLATE);
self.sendComment();
setTimeout(function(){window.location.reload();
},800);
}};
window.g_callback=function(res){$.modal.close();
$(self.options.gnb).html(G_HEADER_LOGON_TEMPLATE);
self.sendComment();
setTimeout(function(){window.location.reload();
},800);
};
_element.njLogin(loginOptions);
_element.njLogin("view");
}},_error:function(obj){alert("一時的に利用できません。");
},setResponse:function(self,_obj){var o=self.options;
if(self.options.mode=="insert"){refreshCommentList(self,_obj.total,o.commentListClass);
}else{if(self.options.mode=="update"){updateComment(self,_obj);
}else{if(self.options.mode=="delete"){refreshCommentList(self,_obj.total,o.commentListClass,$("div.MdPagination04").njPageNavi("getCurrentPage"));
}}}},setArgs:function(_args){$.extend(this.args,_args);
}});
var addHyperLink=function(sStr){return sStr.replace(/((?:http:\/\/|https:\/\/|www\.)(?:[\w\-/:\#\?\=\&\;\%\~\+]+\.)+(?:[\w\-/:\#\?\=\&\;\%\~\+]+){1})/gim,function($0,$1){return/^www\./.test($1)?"<A target='_blank' href='http://"+$1+"'>"+$1+"</A>":"<A target='_blank' href='"+$1+"'>"+$1+"</A>";
});
};
})(jQuery);
(function($){var addHyperLink=function(sStr){return sStr.replace(/((?:http:\/\/|https:\/\/|www\.)(?:[\w\-/:\#\?\=\&\;\%\~\+]+\.)+(?:[\w\-/:\#\?\=\&\;\%\~\+]+){1})/gim,function($0,$1){return/^www\./.test($1)?"<A target='_blank' href='http://"+$1+"'>"+$1+"</A>":"<A target='_blank' href='"+$1+"'>"+$1+"</A>";
});
};
$.widget("matome.mtmCommentSet",$.matome.mtmComment,{options:{typeCode:"M",encryptId:"",url:"/comment",onCommentSetComplete:function(){},onCommentSetError:function(){},args:{},scrollDiff:0},_create:function(){},_error:function(obj){alert("一時的に利用できません。");
},setComment:function(res){var self=this,doc=this.element[0],o=this.options;
if(res.data.result=="true"){var clHtml=this.getCommentList(res);
$(".MdCommentItem01").remove();
$(".MdCommentList01").html(clHtml);
var _o={mode:"list",encryptId:o.encryptId,typeCode:o.typeCode};
$(".MdCommentItem01").mtmComment(_o);
this.setScroll();
this._trigger("onCommentSetComplete",null,res);
}else{this._trigger("onCommentSetError",null,res);
}},errorComment:function(res){this._trigger("onCommentSetError",null,res);
},getCommentList:function(res){var self=this,o=this.options,resHtml="";
$.each(res.data.content,function(){var _c=this;
resHtml+="<li id="+_c.id+'><div id="_nj_comment_add_'+_c.id+'" class="MdCommentItem01 MdCF">';
if(_c.isDeleted=="1"){resHtml+='<p class="MdMsgDisp02"><span class="mdMsgDisp02Txt01">この投稿は現在表示することができません。</span></p>';
}else{resHtml+='<div class="mdCommentItem01Thumb"><a href="'+o.userPageServer+"/"+_c.userNick+'" class="UserThumb"><img src="'+_c.profile+'" width="51" height="51" alt="" onerror="errorImage(this, \'user51x51\')"></a><!-- /.mdCommentItem01Thumb --></div><div class="mdCommentItem01Txt"><p class="mdCommentItem01Option"><a href="'+o.userPageServer+"/"+_c.userNick+'" class="mdCommentItem01UserName">'+_c.userNick+'</a>さん<span class="MdSeparator01P04">|</span><span class="mdCommentItem01Date">'+_c.updated+"</span>";
if(_c.isEdited=="Y"){resHtml+='<span class="mdCommentItem01EditDelBtn"><span class="MdBtn01Edit01"><a href="#" class="mdBtn01Edit01Btn">修正</a></span><span class="MdSeparator01P02">|</span><span class="MdBtn01Del01"><a href="#" class="mdBtn01Del01Btn">削除</a></span></span>';
}resHtml+='</p><p class="mdCommentItem01Comment">'+addHyperLink(_c.comment)+"</p><!-- /.mdCommentItem01Txt --></div>";
}resHtml+="<!-- /.MdCommentItem01 --></div></li>";
});
return resHtml;
},getComment:function(){var self=this,o=this.options;
$.ajax({url:o.url,type:"POST",dataType:"json",data:o.args,success:$.proxy(self.setComment,this),error:$.proxy(self.errorComment,this)});
},setArgs:function(_args){var self=this,o=this.options;
o.args["comment.typeCode"]=o.typeCode;
o.args["comment.encryptId"]=o.encryptId;
$.extend(o.args,_args);
},setScrollDiff:function(n){this.option("scrollDiff",n);
},setScroll:function(){var nScroll=$("ul.MdCommentList01").offset().top+this.option("scrollDiff");
$(window).scrollTop(nScroll);
}});
var addHyperLink=function(sStr){return sStr.replace(/((?:http:\/\/|https:\/\/|www\.)(?:[\w\-/:\#\?\=\&\;\%\~\+]+\.)+(?:[\w\-/:\#\?\=\&\;\%\~\+]+){1})/gim,function($0,$1){return/^www\./.test($1)?"<A target='_blank' href='http://"+$1+"'>"+$1+"</A>":"<A target='_blank' href='"+$1+"'>"+$1+"</A>";
});
};
})(jQuery);


/* @release 1382429670 */