(function($){var removeHyperLink=function(sStr){return sStr.replace(/<.*?>/g,"");
};
var setCommentEditor=function(_text){return'<div id="_edit_comment_form" class="MdCommentForm02"><p id="_edit_comment_form_text" class="mdCommentForm02Input"><textarea class="mdCommentForm02InputTxt" placeholder="追加するコメントを入力">'+removeHyperLink(_text)+'</textarea></p><p class="mdCommentForm02Btn"><span class="MdBtn01Post02"><input type="button" value="書き込む" id="_update_commnet" class="mdBtn01Post02Btn"></span><span class="MdBtn01Cancel03"><a href="#" id="_cancel_comment" class="mdBtn01Cancel03Btn">キャンセル</a></span></p></div>';
};
var br2n=function(text){return text.replace(/<(br \/|br|br\/|BR \/|BR|BR\/)>/g,"\n");
};
var checkStringLength=function(string,maxlength,errorMsg){var _l=string.length;
if(_l==0){alert(errorMsg.zero);
return false;
}else{if(_l>maxlength){alert(errorMsg.over);
return false;
}else{return true;
}}};
var checkSendMethod=function(_method,_confirmText){if(_method=="delete"){return;
}else{return true;
}};
var checkSend=function(string,maxlength,errorMsg,_method,_confirmText){if(_method=="delete"){return window.confirm(_confirmText);
}else{return checkStringLength(string,maxlength,errorMsg);
}};
var deleteComment=function(self,_obj){$("#"+self.options.args["comment.commentId"]).remove();
};
var updateComment=function(self,_obj){var _c=_obj.content[0];
var _ecf=$("#_edit_comment_form");
_ecf.next().html(addHyperLink(_c.comment));
$(".mdCommentItem01EditDelBtn").show();
_ecf.next().show();
$("#_edit_comment_form").remove();
};
var refreshCommentList=function(self,totalItem,commentListClass,page){var o=self.options;
var cl=$("ul."+commentListClass);
var args={"comment.typeCode":o.args["comment.typeCode"],page:page||1,lastUpdated:new Date().getTime()};
cl.mtmCommentSet("option","typeCode",o.args["comment.typeCode"]);
cl.mtmCommentSet("setArgs",args);
cl.mtmCommentSet("setScrollDiff",o.scrollDiff);
cl.mtmCommentSet("getComment");
$("div.MdPagination04").njPageNavi("redraw",totalItem,page||1);
};
var addComment=function(self,_obj,mtmC){var _c=_obj.content[0],o=self.options;
var resHtml="<li id="+_c.id+'><div id="_nj_comment_add_'+_c.id+'" class="MdCommentItem01 MdCF"><div class="mdCommentItem01Thumb"><a href="'+self.options.userPageServer+"/"+_c.userNick+'" class="UserThumb"><img src="'+_c.profile+'" width="51" height="51" alt="" onerror="errorImage(this, \'user51x51\')"></a><!-- /.mdCommentItem01Thumb --></div><div class="mdCommentItem01Txt"><p class="mdCommentItem01Option"><a href="http://alpha.naver.jp/'+_c.userNick+'" class="mdCommentItem01UserName">'+_c.userNick+'</a>さん<span class="MdSeparator01P04">|</span><span class="mdCommentItem01Date">'+_c.updated+'</span><span class="mdCommentItem01EditDelBtn"><span class="MdBtn01Edit01"><a href="#" class="mdBtn01Edit01Btn">修正</a></span><span class="MdSeparator01P02">|</span><span class="MdBtn01Del01"><a href="#" class="mdBtn01Del01Btn">削除</a></span></span></p><p class="mdCommentItem01Comment">'+addHyperLink(_c.comment)+"</p><!-- /.mdCommentItem01Txt --></div><!-- /.MdCommentItem01 --></div></li>";
$("ul.MdCommentList01").prepend(resHtml);
$("#_nj_comment_add_"+_c.id).mtmComment({mode:"list",encryptId:self.options.args["comment.encryptId"],typeCode:o.typeCode});
};
$.widget("matome.mtmComment",{options:{mode:"insert",encryptId:undefined,typeCode:undefined,callback:{},gnb:".MdHeadUtil01",userPageServer:nj.getCombinedUrl(nj.getBaseUrl(),"mymatome"),commentListClass:"MdCommentList01"},_addButton:undefined,_textarea:undefined,_editCommentObject:undefined,_create:function(){var self=this,o=this.options;
for(var i=0;
i<this.element.length;
i++){var doc=this.element[i];
var _textarea={};
if($("textarea",doc).length>0){_textarea=$("textarea",doc);
}if(_textarea.length){if($.browser.msie){_textarea.css("min-height",_textarea.height());
_textarea.one("focus",function(){_textarea.css("min-height","");
});
_textarea.expandingTextArea();
}else{_textarea.expandingTextArea();
}}switch(o.mode){case"insert":var _button=$(":button",doc).mtmCommentSend({mode:"insert",textarea:_textarea,callback:o.callback,args:{"comment.encryptId":o.encryptId,"comment.typeCode":o.typeCode,m:"ajaxInsert"}});
break;
case"update":var self=this;
var _commentId=$(doc).parent().parent().parent().attr("id");
var _button=$("#_update_commnet").mtmCommentSend({mode:"update",textarea:_textarea,callback:o.callback,args:{"comment.commentId":_commentId,"comment.typeCode":o.typeCode,"comment.encryptId":o.encryptId,m:"ajaxUpdate"}});
$("#_cancel_comment").bind("click.mtmComment",$.proxy(function(e){e.preventDefault();
this.cancelEditComment();
},this));
break;
case"list":$("a.mdBtn01Edit01Btn",doc).live("click.mtmComment",function(e){e.preventDefault();
if($("#_edit_comment_form").length==0){self.editComment($(e.target));
}else{alert("編集中のコメントがあるため、コメントの修正はできません。");
}});
var _commentId=$(doc).parent().attr("id"),_encryptId=o.encryptId,_typeCode=o.typeCode;
var _button=$("a.mdBtn01Del01Btn",doc).mtmCommentSend({mode:"delete",callback:o.callback,args:{"comment.commentId":_commentId,"comment.encryptId":_encryptId,"comment.typeCode":_typeCode,m:"ajaxDelete"}});
break;
default:break;
}}},destroy:function(){},editComment:function(el){var self=this,oArea=el.parent().parent().parent(),_text=$(".mdCommentItem01Comment",self.element).html();
var _comment_element=oArea.next();
_comment_element.before(setCommentEditor(br2n(_text)));
$(".mdCommentForm02InputTxt").njPlaceholder();
_comment_element.hide();
el.parent().parent().hide();
$("#_edit_comment_form").mtmComment({mode:"update"});
},cancelEditComment:function(){var self=$(this.element[0]);
self.next().show();
self.prev().children(".mdCommentItem01EditDelBtn").show();
$("#_edit_comment_form").remove();
},deleteComment:function(el){}});
$.widget("matome.mtmCommentSend",$.matome.mtmComment,{options:{mode:"insert",url:"/comment",maxLength:"2000",method:"POST",callback:{},confirmText:"本当に削除しますか?\n一度削除すると元に戻すことはできません。",errorMsg:{over:"追加するコメントは、2000文字以内で入力してください。",zero:"コメントが入力されていません。",edit:"編集中のコメントがあるため、コメントはできません。",del:"編集中のコメントがあるため、コメントの削除はできません。"},textarea:undefined,args:{},commentListClass:"MdCommentList01"},_create:function(){var self=this,_element=$(self.element[0]),_countElement=$(".mdMTMComment01Counter"),o=this.options;
_element.bind("click.mtmCommnentSend",function(e){e.preventDefault();
self.sendComment(e);
});
},sendComment:function(e){var self=this,_element=$(self.element[0]),_countElement=$(".mdMTMComment01Counter"),o=this.options;
if($("#_edit_comment_form").length>0&&o.mode=="insert"){alert(o.errorMsg.edit);
e.preventDefault();
return;
}else{if($("#_edit_comment_form").length>0&&o.mode=="delete"){alert(o.errorMsg.del);
e.preventDefault();
return;
}}if($.cookie("NJID_AUT")!=null){_element.unbind("click.mtmCommnentSend");
if(e){e.preventDefault();
}if(self.options.textarea){self.options.args["comment.content"]=self.options.textarea.njGetPlaceholderValue();
if(!self.options.args["comment.content"]&&self.options.mode!="delete"){alert(self.options.errorMsg.zero);
_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
return;
}}else{self.options.args["comment.content"]=undefined;
}if(checkSend(self.options.args["comment.content"],self.options.maxLength,self.options.errorMsg,self.options.mode,self.options.confirmText)){$.ajax({url:self.options.url,data:self.options.args,type:"POST",dataType:"json",success:$.proxy(function(res){var _res=(res.data)?res.data:res;
if(_res.result=="true"){self.setResponse(self,_res);
_countElement.html(_res.total);
if(self.options.textarea){self.options.textarea.njSetPlaceholderValue("");
self.options.textarea.triggerHandler("blur.njPlaceholder");
self.options.textarea.trigger("blur.expandingTextarea");
}}else{self._error(_res);
}if(typeof self.options.callback=="function"){self.options.callback();
}},this),error:function(res){alert("一時的に利用できません。");
},complete:function(){_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
}});
}else{_element.bind("click.mtmCommnentSend",function(e){self.sendComment(e);
});
}}else{var loginOptions={loginDomain:g_loginDomain,loginApi:g_loginApi,proxyUrl:g_proxyUrl,rsaKeysApi:g_rsaKeysApi,success:function(res){$(self.options.gnb).html(G_HEADER_LOGON_TEMPLATE);
self.sendComment();
setTimeout(function(){window.location.reload();
},800);
}};
window.g_callback=function(res){$.modal.close();
$(self.options.gnb).html(G_HEADER_LOGON_TEMPLATE);
self.sendComment();
setTimeout(function(){window.location.reload();
},800);
};
_element.njLogin(loginOptions);
_element.njLogin("view");
}},_error:function(obj){alert("一時的に利用できません。");
},setResponse:function(self,_obj){var o=self.options;
if(self.options.mode=="insert"){refreshCommentList(self,_obj.total,o.commentListClass);
}else{if(self.options.mode=="update"){updateComment(self,_obj);
}else{if(self.options.mode=="delete"){refreshCommentList(self,_obj.total,o.commentListClass,$("div.MdPagination04").njPageNavi("getCurrentPage"));
}}}},setArgs:function(_args){$.extend(this.args,_args);
}});
var addHyperLink=function(sStr){return sStr.replace(/((?:http:\/\/|https:\/\/|www\.)(?:[\w\-/:\#\?\=\&\;\%\~\+]+\.)+(?:[\w\-/:\#\?\=\&\;\%\~\+]+){1})/gim,function($0,$1){return/^www\./.test($1)?"<A target='_blank' href='http://"+$1+"'>"+$1+"</A>":"<A target='_blank' href='"+$1+"'>"+$1+"</A>";
});
};
})(jQuery);
(function($){var IMAGE_SERVER="http://static.naver.jp/nvCommon",MATOME_IMAGE_SERVER=/alpha/.test(location.hostname)?"http://static.alpha.naver.jp/matome_ver4":"http://static.naver.jp/matome_ver4",REDIRECT_URL=encodeURIComponent(location.href),HTML_TMPLATE='<div id="LoginPanel"><div class="LoginPanelArea"><h1 style="width:345px;"><a href="http://naver.jp"><img width="53" height="10" class="h1logo" src="'+IMAGE_SERVER+'/img/h1_naver_s.gif" alt="NAVER"></a><img class="h1title" alt="ログイン" src="'+IMAGE_SERVER+'/img/h1_login.gif"></h1>{{if !isBookmarklet}}<p class="info">利用には無料会員登録が必要です。</p>{{/if}}<div style="display: block;" id="LoginPanelForm"><form style="margin:0px;padding:0;" name="loginForm" id="loginForm" action="#">{{if !isBookmarklet}}<div class="registerArea"><h2><a href="${naverURL}"><img alt="無料会員登録" src="'+IMAGE_SERVER+'/img/btn_register.gif"></a></h2><p>NAVERアカウントに登録すると<br>さまざまなサービスをご利用になれます。</p></div><!--/.registerArea-->{{/if}}<div class="loginArea"><h2 style="display:none;">ログインフォーム</h2><p style="display: none; " class="attention"></p><ul class="formList"><li class="nvrId"><h3 style="display:none;">メールアドレスまたはユーザー名</h3><div class="cont"><input type="text" value="" class="input required message2 name" name="name"></div></li><li class="pass"><h3 style="display:none;">パスワード</h3><div class="cont"><input type="password" value="" maxlength="30" class="input message" name="password"></div></li></ul><p class="loginBtn"><input type="image" alt="ログイン" src="'+IMAGE_SERVER+'/img/btn_login_s.gif"></p><ul class="supportNavi"><li class="idSave"><input type="checkbox" id="idSaveCheck" name="idSaveCheck"><label for="idSaveCheck"> 次回から入力を省略</label></li><li class="lost"><a href="${myInfoURL}">パスワードをお忘れの方</a></li></ul><!--20111014--><div class="linkedAccount"><p class="linkedAccountTxt">他のアカウントでログイン</p><p><a href="${facebookURL}"><img width="35" height="36" src="'+MATOME_IMAGE_SERVER+'/img/common/login/img_fb.png" alt="Facebook"></a><a href="${twitterURL}"><img width="35" height="36" src="'+MATOME_IMAGE_SERVER+'/img/common/login/img_tw.png" alt="Twitter"></a><a href="${livedoorURL}"><img width="35" height="36" src="'+MATOME_IMAGE_SERVER+'/img/common/login/img_ld.png" alt="Livedoor"></a><a href="${yahooURL}"><img width="35" height="36" src="'+MATOME_IMAGE_SERVER+'/img/common/login/img_yh.png" alt="Yahoo!"></a></p></div><!--//20111014--></div><!--/.loginArea--></form></div><!--/#LoginPanelForm-->{{if !isBookmarklet}}<div class="closeBtn simplemodal-close"><img width="9" height="9" alt="閉じる" src="'+IMAGE_SERVER+'/img/btn_close.gif"></div>{{/if}}</div><!--/.LoginPanelArea--></div>',MY_INFO_URL_BASE="https://ssl.naver.jp/reminder/form",MY_INFO_URL=MY_INFO_URL_BASE+"?fromUrl="+REDIRECT_URL,JOIN_URL_LIST={naverURL:"https://ssl.naver.jp/join?fromUrl="+REDIRECT_URL,facebookURL:"https://ssl.naver.jp/oauth/layerFacebookRequest",twitterURL:"https://ssl.naver.jp/oauth/layerTwitterRequest",livedoorURL:"https://ssl.naver.jp/openid/layerLogin/livedoor?fromUrl="+REDIRECT_URL,yahooURL:"https://ssl.naver.jp/openid/layerLogin/yahoo?fromUrl="+REDIRECT_URL},options={};
$.widget("ui.njLogin",{options:{errorTitle:"ログイン失敗",base64:true,codes:{SUCCESS:1,RSA_KEY_NAME_BLANK:100,EMAIL_BLANK:200,EMAIL_INVALID:201,MOBILE_EMAIL:202,UNREGISTERED_EMAIL:203,EMAIL_AND_PASSWORD_BLANK:210,PASSWORD_BLANK:300,PASSWORD_INVALID:301,PASSWORD_MISMATCH:302,IN_PENALTY:400,SESSION_FAIL:500,SERVER_INTERNAL_ERROR:600}},_create:function(oOptions){$.extend(this.options,oOptions);
options=this.options;
},_onRsaKeysLoad:function(){if(!nj.crypto.hasRsaKeys()){alert(nj.crypto.error.rsa);
return;
}var self=this,oForm=this.currentForm,oKeys=nj.crypto.getSplitRsaKey(),oParams={email:nj.crypto.rsaEncrypt($(this.currentElements[0]).val(),null,null,options.base64),password:nj.crypto.rsaEncrypt($(this.currentElements[1]).val(),null,null,options.base64),rsaKeyName:oKeys.keyname,autoLogin:""};
if(options.base64){oParams.enc="b";
}if(oForm.idSaveCheck.checked){oParams.autoLogin="Y";
}var sCallback="njsonp"+$.now(),data={id:sCallback,method:"POST",header:"{'Content-Type':'application/x-www-form-urlencoded; charset=utf-8','charset':'utf-8'}",proxy:options.proxyUrl,domain:"naver.jp",url:options.loginApi};
document.domain="naver.jp";
$("<iframe />",{name:"naver-login-temp",id:"naver-login-temp",style:"border:0px;width:0px;height:0px;",src:"http://"+options.loginDomain+"/ajax_remote_callback.html?"+$.param(data)+"#"+($.param(oParams).replace(/=/g,"%3D"))}).appendTo("body");
window[sCallback]=function(callback,result_txt,header){var result=$.parseJSON(result_txt),codes=options.codes;
if(result.status==codes.SUCCESS){options.success();
$.modal.close();
$("#LoginPanel").remove();
}else{$(".attention",this.currentForm).html(result.message).show();
}$("#naver-login-temp").remove();
};
},setRule:function(){var self=this,jqLoginForm=$("#loginForm");
nj.Bootloader.exec("nj.matome.login",$.proxy(function(){jqLoginForm.validate({debug:false,ignore:"",onkeyup:false,focusInvalid:false,onfocusout:false,submitHandler:function(form){var sRsaKeysApi="http://"+options.loginDomain+self.options.rsaKeysApi;
try{nj.crypto.initRsaKeys(sRsaKeysApi,self._onRsaKeysLoad,this);
}catch(e){}},showErrors:function(errorMap,errorList){if(errorList.length==0){$(".attention",this.currentForm).hide();
}else{if(errorList.length==2){if(errorList[0].message=="入力内容に誤りがあります。"){$(".attention",this.currentForm).text(errorList[0].message).show();
}else{$(".attention",this.currentForm).text("メールアドレスとパスワードが未入力です。").show();
}$(errorList[0].element).focus();
}else{$(".attention",this.currentForm).text(errorList[0].message).show();
$(errorList[0].element).focus();
}}},rules:{name:{required:true},password:{required:true},idSaveCheck:{required:false}},messages:{name:{required:"メールアドレスが未入力です。"},password:{required:"パスワードが未入力です。"}}});
$(["message","message2"]).each(function(i,s){$("#loginForm ."+s).focus(function(){$(this).removeClass(s).addClass("focus");
}).focusout(function(){if(!$(this).val()){$(this).removeClass("focus").addClass(s);
}});
});
$("#loginForm .input").keydown($.browser.msie?function($e){if($e.keyCode==13){jqLoginForm.submit();
}}:null);
},this));
},view:function(sViewType){var self=this,oTmpl={myInfoURL:MY_INFO_URL,isBookmarklet:false},oModalOptions={autoResize:true,onShow:function(dialog){self.setRule();
},onClose:function(){$.modal.close();
$("#LoginPanel").remove();
}};
if(sViewType==="matome.bookmarklet"){oTmpl={myInfoURL:MY_INFO_URL_BASE,isBookmarklet:true};
$.extend(oModalOptions,{opacity:40,overlayCss:{backgroundColor:"#000"},escClose:false});
}nj.Bootloader.exec("nj.matome.login",function(){var $loginTpl=$.tmpl(HTML_TMPLATE,$.extend({},JOIN_URL_LIST,oTmpl));
$loginTpl.find(".linkedAccount").delegate("a","click",function(e){var $btn;
e.preventDefault();
if(e.target.tagName==="A"){$btn=$(e.target);
}else{if(e.target.tagName==="IMG"){$btn=$(e.target).parent();
}else{return false;
}}window.open($btn.attr("href"),"njLogin");
return false;
});
$loginTpl.appendTo(document.body).modal(oModalOptions);
});
}});
})(jQuery);
(function($){var NjPlaceholder,OPTIONS,jqueryVal,_isFirefox,_isIE,_isIE10,_isNative,_isOldPlh,_isOpera,_isWinSafari,_ua;
if($.fn.njPlaceholder){return;
}_ua=navigator.userAgent.toLowerCase();
_isIE=_ua.indexOf("msie")!==-1;
_isIE10=false;
_isFirefox=_ua.indexOf("firefox")!==-1;
_isOpera=_ua.indexOf("opera")!==-1;
_isWinSafari=navigator.appVersion.match(/windows.*\ version\/5.* safari\/5/i)?true:false;
_isNative=!_isIE&&!_isFirefox&&!_isOpera&&!_isWinSafari;
_isOldPlh=_isIE10;
OPTIONS={css:"ExPlaceholder",autoTrim:true};
NjPlaceholder=function(el,options){var $s,o;
this.options=$.extend({},OPTIONS,options);
this.$el=$(el);
o=this.options;
$s=null;
this.$el.removeClass(o.css);
if(this.$el.val().length===0){this._show();
}if(_isOldPlh){this._setOldPlaceholder();
}else{this._setNewPlaceholder();
}return this;
};
jqueryVal=$.fn.val;
$.fn.val=function(s){var res,_MyNjPlaceholder;
_MyNjPlaceholder=this.data("MyNjPlaceholder");
if(_MyNjPlaceholder){if(s!=null){_MyNjPlaceholder.setValue(s);
res=this;
}else{res=_MyNjPlaceholder.getValue();
}}else{res=jqueryVal.apply(this,arguments);
}return res;
};
NjPlaceholder.prototype={_setNewPlaceholder:function(){var o,_this=this;
o=this.options;
this.$el.bind("focus.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._caretTop();
}}).bind("keyup.njPlaceholder",function(){if(_this.getValue().length<1){_this._show();
return _this._caretTop();
}}).bind("keydown.njPlaceholder",function(e){var isPlaceholder,keycode,vLength,value;
isPlaceholder=_this.$el.hasClass(o.css);
value=_this.getValue();
vLength=e.keyCode===8||e.keyCode===46?value.length-1:value.length+1;
keycode=e.keyCode;
if(isPlaceholder&&(keycode===37||keycode===38||keycode===39||keycode===40||keycode===16||keycode===17||keycode===18)){return false;
}if(!isPlaceholder&&vLength<1){return _this.$el.addClass(o.css);
}else{if(isPlaceholder&&vLength>0){return _this._hide(value);
}}});
if(!_isNative){this.$el.bind("blur.njPlaceholder",function(){if(_this.getValue().length<1){return _this._show();
}}).bind("mouseup.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._caretTop();
}});
}return this;
},_setOldPlaceholder:function(){var o,_this=this;
o=this.options;
return this.$el.bind("focus.njPlaceholder",function(){if(_this.$el.hasClass(o.css)){return _this._hide("");
}}).bind("blur.njPlaceholder",function(){if(!_this.$el.hasClass(o.css)&&_this.getValue().length===0){return _this._show();
}});
},_show:function(){var o,_phValue;
o=this.options;
this.$el.addClass(o.css);
_phValue=this._getPlaceholder();
if(o.explaceholder){$(o.explaceholder).addClass(o.css).text(_phValue);
}if(_isNative){return this;
}if(_phValue){this._val(_phValue);
}return this;
},_hide:function(value){var o;
o=this.options;
this.$el.removeClass(o.css);
if(o.explaceholder){$(o.explaceholder).removeClass(o.css).text(value);
}if(_isNative){return this;
}if(value!==void 0){this._val(value);
}return this;
},_getPlaceholder:function(){return this.$el.attr("placeholder")||this.$el.data("input_text")||null;
},_caretTop:function(){var Caret,_el,_this=this;
if(_isNative){return this;
}_el=this.$el[0];
if(_el.setSelectionRange){setTimeout(function(){var e;
try{return _el.setSelectionRange(0,0);
}catch(_error){e=_error;
}},1);
}else{if(_el.createTextRange){Caret=_el.createTextRange();
Caret.collapse();
Caret.moveEnd("character",0);
Caret.moveStart("character",0);
Caret.select();
}}return this;
},destroy:function(){this.$el.unbind("focus.njPlaceholder").unbind("blur.njPlaceholder").unbind("keydown.njPlaceholder").unbind("keyup.njPlaceholder").unbind("mouseup.njPlaceholder");
return this;
},_val:function(){var res;
res=jqueryVal.apply(this.$el,arguments);
return res;
},getValue:function(){var isPlaceholder,o,phValue,value;
o=this.options;
value=this._val();
phValue=this._getPlaceholder();
isPlaceholder=this.$el.hasClass(o.css);
value=phValue&&isPlaceholder?value.replace(phValue,""):this._val();
return value;
},setValue:function(s){this._val(s);
if(s.length===0){this._show();
}else{this._hide();
}return this;
},clearValue:function(){this._val("").blur();
this._show();
return this;
},changePlaceholder:function(text){if(this.$el[0].placeholder!=null){this.$el.attr("placeholder",text);
}else{this.$el.data("input_text",text);
}if(this.getValue().length===0){this._show();
}return this;
}};
$.extend($.fn,{njPlaceholder:function(options,attr1){var isTrim,value,_MyNjPlaceholder,_this=this;
_isIE10=$.fn.njPlaceholder.isIe10;
_isOldPlh=_isIE10;
if(options==="getValue"){_MyNjPlaceholder=this.eq(0).data("MyNjPlaceholder");
value=_MyNjPlaceholder.getValue();
isTrim=_MyNjPlaceholder.options.autoTrim;
if(isTrim){return fnMatome.trim(value,true);
}else{return value;
}}else{if(options==="setValue"||options==="clearValue"||options==="changePlaceholder"){attr1=attr1?attr1:"";
this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
return _MyNjPlaceholder[options](attr1);
});
return this;
}else{if(options==="destroy"){this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){_MyNjPlaceholder.destroy();
return _MyNjPlaceholder=null;
}});
return this;
}else{this.each(function(i,s){var $s;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
_MyNjPlaceholder=new NjPlaceholder($s,options);
$s.data("MyNjPlaceholder",_MyNjPlaceholder);
});
return this;
}}}},njGetPlaceholderValue:function(){var isTrim,value,_MyNjPlaceholder;
_MyNjPlaceholder=this.eq(0).data("MyNjPlaceholder");
if(_MyNjPlaceholder){value=_MyNjPlaceholder.getValue();
isTrim=_MyNjPlaceholder.options.autoTrim;
if(isTrim){return fnMatome.trim(value,true);
}else{return value;
}}else{return this.eq(0).val();
}},njSetPlaceholderValue:function(s){this.each(function(){var $el,_MyNjPlaceholder;
$el=$(this);
_MyNjPlaceholder=$el.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.setValue(s);
}else{return $el.val(s);
}});
return this;
},njChangePlaceholder:function(phValue){var _this=this;
this.each(function(i,s){var $s,_MyNjPlaceholder;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.changePlaceholder(phValue);
}});
return this;
},njClearPlaceholder:function(){var _this=this;
this.each(function(i,s){var $s,_MyNjPlaceholder;
$s=$(s);
_MyNjPlaceholder=$s.data("MyNjPlaceholder");
if(_MyNjPlaceholder){return _MyNjPlaceholder.clearValue();
}});
return this;
}});
eval("/*@cc_on\n@if(@_jscript_version == 10)\n	$.fn.njPlaceholder.isIe10 = true;\n@end\n@*/");
$.fn.njPlaceholder.isIe10=$.fn.njPlaceholder.isIe10===true?true:false;
})(jQuery);


/* @release 1382429670 */